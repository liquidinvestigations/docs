{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Liquid Investigations is a network infrastructure that makes it easy for anyone to collaboratively research and co-create knowledge. Robust and built from the margins of Europe by journalists and technologists. Story # Today Liquid is a solid digital infrastructure where you can co-create knowledge by searching and exchanging information between and beyond your institutional boundaries. Using Liquid you can build your research network of choice, adding suitable workflows and governance rules. New collaborative applications will keep popping-up and Liquid is designed to integrate the best of them. Liquid is an alternative place to migrate away from global centralized platforms offered by large for-profit or non-profit global players. Motivation # Digital tools to support team work in the realm of knowledge co-creation, be it for journalism or for any other type of collaborative research, are global centralized platforms, reinforcing world inequalities and leading a wave of global digital colonization. They become governance tools and contributors who depend on them end up being surveilled, controlled and misused by the owners of such digital infrastructures. Currently there is no one-stop shop, free and open source, to offer such an infrastructure. Current Features # Liquid is a self-hosted knowledge production platform, allowing users full control over their data. Currently, the Liquid bundle let\u2019s you index, OCR & search, tagg, build wikis, chat, share files, collaborate on pads and annotations in a self-hosted environment behind a 2FA layer. It\u2019s scalable from cheap hardware up to enterprise grade environments. Liquid integrates already established and easy to use apps, allowing for a seamless, collaborative workflow. Currently packaged applications: * Index and Search: Hoover, multi-faceted search technology, creating a bridge between all the other apps * Wiki: Dokuwiki * Chat: Rocket.chat * Share files: Nextcloud * Pads: CodiMD Future # The current teamwork infrastructures are displacing all individuals towards U.S. owned global clouds (Microsoft Teams, Atlassian, Zoom). Built-in limitations of the centralized platforms will hit more walls than the Orwellian surveillance or censorship capabilities, the cascading global outages of Google , Slack , Twitter , GitHub , FaceBook or the data-centers on fire . The roll out of changes in legislation will hit the platform-based economy: GDPR and enforced transportability of data; monetized contributors treated as employees and monetization by force of free knowledge exchanges reigned in . Independence from global digital colonization will become a non-negotiable value. In the realm of knowledge co-creation, groups of people will want to start self determining their digital lives and renegotiate the basis of collaborations across institutions. The first step is to have no dependency on the digital infrastructures they use, their workflows, their ownership and their business models and be the only ones who can decide how to govern their groups and interactions and how and if to monetize such interactions. Liquid is here to foster independent knowledge co-creation, be it for journalism, activism, academia or in-between and beyond. History # Originally started by the Romanian Centre for Investigative Journalism, it was expanded for the use of EIC.network in a dozen projects by media in 20 countries , publishing thousands of stories in a dozen languages. How to make collections of data available for collaborative research outside of big institutions and expensive infrastructures and proprietary solutions ? Liquid was born out of this real need of cross-border investigative journalists in Eastern Europe to share in working groups the research on large collections of source documents (leaks, scraps, archives). 2012: First prototype of the idea involved collection of source documents talking to each-other . 2015: A second a totally different approach involved the creation of a collaborative search tool called Hoover . 2016: The search tool really took a production role in the context of the EIC network, responding to the need to shelter investigative work on leaked documents and protecting the whistleblower of Football Leaks . Soon enough it has matured into a reliable search tool, co-owned and co-managed by investigative journalists in more than a dozen European media. Even before facilitating more than 100 journalists to collaboratively search documents, there was the realisation that they would lack a place to exchange information and to co-create a knowledge base. That\u2019s how Liquid kicked off. Besides the indexing and searching of archives, the bundle added a shared knowledge base, chat, file sharing, pads and annotations, all wrapped up behind a 2FA for more secretive types of work. 2017: The prototype bundle won a Google innovation grant and started to be used in production. So far, the search tool Hoover or the entire Liquid bundle have been used by the following organizations: Installation # Follow the Installation page on setting up a working system. Documentations # For user documentation go to User Guide . For installation instructions and technical details go to Technical Overview . Contributing # To make it better go to Contributing . Go here if you want to know what are we working on, each month. If you want to get in touch with us, send an email to candea [at] eic.network Liquid Investigations is Free Software under the MIT Licence.","title":"Home"},{"location":"#story","text":"Today Liquid is a solid digital infrastructure where you can co-create knowledge by searching and exchanging information between and beyond your institutional boundaries. Using Liquid you can build your research network of choice, adding suitable workflows and governance rules. New collaborative applications will keep popping-up and Liquid is designed to integrate the best of them. Liquid is an alternative place to migrate away from global centralized platforms offered by large for-profit or non-profit global players.","title":"Story"},{"location":"#motivation","text":"Digital tools to support team work in the realm of knowledge co-creation, be it for journalism or for any other type of collaborative research, are global centralized platforms, reinforcing world inequalities and leading a wave of global digital colonization. They become governance tools and contributors who depend on them end up being surveilled, controlled and misused by the owners of such digital infrastructures. Currently there is no one-stop shop, free and open source, to offer such an infrastructure.","title":"Motivation"},{"location":"#current-features","text":"Liquid is a self-hosted knowledge production platform, allowing users full control over their data. Currently, the Liquid bundle let\u2019s you index, OCR & search, tagg, build wikis, chat, share files, collaborate on pads and annotations in a self-hosted environment behind a 2FA layer. It\u2019s scalable from cheap hardware up to enterprise grade environments. Liquid integrates already established and easy to use apps, allowing for a seamless, collaborative workflow. Currently packaged applications: * Index and Search: Hoover, multi-faceted search technology, creating a bridge between all the other apps * Wiki: Dokuwiki * Chat: Rocket.chat * Share files: Nextcloud * Pads: CodiMD","title":"Current Features"},{"location":"#future","text":"The current teamwork infrastructures are displacing all individuals towards U.S. owned global clouds (Microsoft Teams, Atlassian, Zoom). Built-in limitations of the centralized platforms will hit more walls than the Orwellian surveillance or censorship capabilities, the cascading global outages of Google , Slack , Twitter , GitHub , FaceBook or the data-centers on fire . The roll out of changes in legislation will hit the platform-based economy: GDPR and enforced transportability of data; monetized contributors treated as employees and monetization by force of free knowledge exchanges reigned in . Independence from global digital colonization will become a non-negotiable value. In the realm of knowledge co-creation, groups of people will want to start self determining their digital lives and renegotiate the basis of collaborations across institutions. The first step is to have no dependency on the digital infrastructures they use, their workflows, their ownership and their business models and be the only ones who can decide how to govern their groups and interactions and how and if to monetize such interactions. Liquid is here to foster independent knowledge co-creation, be it for journalism, activism, academia or in-between and beyond.","title":"Future"},{"location":"#history","text":"Originally started by the Romanian Centre for Investigative Journalism, it was expanded for the use of EIC.network in a dozen projects by media in 20 countries , publishing thousands of stories in a dozen languages. How to make collections of data available for collaborative research outside of big institutions and expensive infrastructures and proprietary solutions ? Liquid was born out of this real need of cross-border investigative journalists in Eastern Europe to share in working groups the research on large collections of source documents (leaks, scraps, archives). 2012: First prototype of the idea involved collection of source documents talking to each-other . 2015: A second a totally different approach involved the creation of a collaborative search tool called Hoover . 2016: The search tool really took a production role in the context of the EIC network, responding to the need to shelter investigative work on leaked documents and protecting the whistleblower of Football Leaks . Soon enough it has matured into a reliable search tool, co-owned and co-managed by investigative journalists in more than a dozen European media. Even before facilitating more than 100 journalists to collaboratively search documents, there was the realisation that they would lack a place to exchange information and to co-create a knowledge base. That\u2019s how Liquid kicked off. Besides the indexing and searching of archives, the bundle added a shared knowledge base, chat, file sharing, pads and annotations, all wrapped up behind a 2FA for more secretive types of work. 2017: The prototype bundle won a Google innovation grant and started to be used in production. So far, the search tool Hoover or the entire Liquid bundle have been used by the following organizations:","title":"History"},{"location":"#installation","text":"Follow the Installation page on setting up a working system.","title":"Installation"},{"location":"#documentations","text":"For user documentation go to User Guide . For installation instructions and technical details go to Technical Overview .","title":"Documentations"},{"location":"#contributing","text":"To make it better go to Contributing . Go here if you want to know what are we working on, each month. If you want to get in touch with us, send an email to candea [at] eic.network Liquid Investigations is Free Software under the MIT Licence.","title":"Contributing"},{"location":"About/","text":"Liquid Investigations is enabling journalists working across the world to collaborate securely, effectively and at low cost as well as independent of centralised infrastructures and platforms. Liquid Investigations is a free, open-source software that\u2019s self-hosted and bundles together index, OCR & search, wikis, chat and file-sync systems and annotations in a secure self-hosted environment. It\u2019s scalable from cheap hardware up to enterprise grade environments. With Liquid Investigations we are lowering the barriers for journalistic collaborations, empowering journalists towards: * censorship resistance by way of networking; * digital security during the research process (for protecting info-exchange, whistleblowers and source docs); * anonymity towards infrastructure admins and owners by way of not retaining search logs; * focusing on holding power transparent and accountable. With the full bundle in production we allow for distributed, non-hierarchical data analysis, as well as sharing, information exchange and annotation for journalists in networks. Team # (all, code and rest?) Project History & Funding # The core code started to be developed for the Romanian Centre for Investigative Journalism (RCIJ) at the end of 2015 by Alex Morega as an index & search tool (Hoover) for a small network of Romanian journalists to be able to search documents (RCIJ is one of the oldest investigative journalism non-profits in Europe, established in 2001). It got adopted and further developed for the European Investigative Collaborations network (EIC) during 2016, adding Gabi Vijiala in the dev team, while EIC was starting to process a growing collection of leaked material (Football Leaks). During 2017 RCIJ won a Google DNI grant (https://newsinitiative.withgoogle.com/dnifund/insights/liquid-investigations-helping-journalists-collaborate-safely-scale/) to develop the current bundle around Hoover. After the grant was over, since 2018, the bundle was further developed with financial support from EIC.network, which is a non-profit network by agreement where each media organisation who's a member is putting human and financial resources together to research stories and maintain or develop tools for investigative journalists (published under free and open source).","title":"About"},{"location":"About/#team","text":"(all, code and rest?)","title":"Team"},{"location":"About/#project-history-funding","text":"The core code started to be developed for the Romanian Centre for Investigative Journalism (RCIJ) at the end of 2015 by Alex Morega as an index & search tool (Hoover) for a small network of Romanian journalists to be able to search documents (RCIJ is one of the oldest investigative journalism non-profits in Europe, established in 2001). It got adopted and further developed for the European Investigative Collaborations network (EIC) during 2016, adding Gabi Vijiala in the dev team, while EIC was starting to process a growing collection of leaked material (Football Leaks). During 2017 RCIJ won a Google DNI grant (https://newsinitiative.withgoogle.com/dnifund/insights/liquid-investigations-helping-journalists-collaborate-safely-scale/) to develop the current bundle around Hoover. After the grant was over, since 2018, the bundle was further developed with financial support from EIC.network, which is a non-profit network by agreement where each media organisation who's a member is putting human and financial resources together to research stories and maintain or develop tools for investigative journalists (published under free and open source).","title":"Project History &amp; Funding"},{"location":"Admin-Guide%3A-FAQ/","text":"Operating Liquid Investigations Servers # Something broke, how do I fix it? # Identify and save logs for failed job in the Nomad UI. Service health check responses are available in the Consul UI. Check issues labelled bug on the public board. If the bug is not tracked please add it. Ask on Slack! Invalid HTTPS certificates # There is a limitation with Traefik 1.7: it doesn't update the stored certificates if the configuration changes. This means an administrator will have to wipe the certificates after a change in: domain https on/off caServer To wipe the certificates one should delete the Consul KV entries /traefik and /liquid/traefik/acme from the Consul UI . To follow Traefik's progress in getting the HTTPS certificates from LetsEncrypt use the Nomad UI to follow its console output. Nomad won't schedule jobs # Try running a clean reset . Watch out for docker daemon GOMAXPROCS if you are running on many cores. For machines with >32 cores, we recommend configuring docker with GOMAXPROCS of 8-12. Nomad errors will be available in the Nomad UI after navigating to the job. Snoop gets stuck when processing # When processing many collections in parallel, one might run out of RabbitMQ memory. To check if this has happened: - Proxy port 10.66.60.1:9990 from server onto local machine localhost:9990 using SSH LocalForward configuration. - Visit http://localhost:9990/_snoop_rabbit/ , login with username guest and password guest . - Look at the \"Memory\" cell on the \"Overview\" screen. If it's red, then you're out of memory. If you're out of RabbitMQ memory, do one of these: - increase rabbitmq_memory_limit to 4+ GB, or - process less collections at the same time (set process = off on some of them, turn on again later) Elasticsearch won't index documents / Hypothesis won't save annotations # When the elasticsearch disk exceeds some 90% limit, elasticsearch will lock itself up. Hypothesis also uses elasticsearch to save annotations, so you'll see the same issue there. Be sure to free up some disk space first, then run: export ES_ADDR=10.66.60.1:9990/_es curl -XPUT \"$ES_ADDR/_cluster/settings\" -H 'Content-Type: application/json' -d '{\"persistent\":{\"cluster.blocks.read_only\":false}}' curl -XPUT \"$ES_ADDR/_all/_settings\" -H 'Content-Type: application/json' -d'{ \"index.blocks.read_only_allow_delete\" : null } }' ... where 10.66.60.1 is the network address configured in cluster.ini and liquid.ini. For hypothesis, you have to identify the container port opened with docker ps | grep hypothesis/elasticsearch and set the ES_ADDR to that ip:port . Then, re-run the 2 commands. Docker Hub - Download Rate Limit # Docker Hub has been decreasing their free anonymous download limit. When deploying, you might reach this limit on your host IP. See the Docker article on download-rate-limit . Temporary work-around: - create a free Docker Hub account for each instance - do a docker login with new credentials on the machine running ./liquid deploy .","title":"Operating Liquid Investigations Servers"},{"location":"Admin-Guide%3A-FAQ/#operating-liquid-investigations-servers","text":"","title":"Operating Liquid Investigations Servers"},{"location":"Admin-Guide%3A-FAQ/#something-broke-how-do-i-fix-it","text":"Identify and save logs for failed job in the Nomad UI. Service health check responses are available in the Consul UI. Check issues labelled bug on the public board. If the bug is not tracked please add it. Ask on Slack!","title":"Something broke, how do I fix it?"},{"location":"Admin-Guide%3A-FAQ/#invalid-https-certificates","text":"There is a limitation with Traefik 1.7: it doesn't update the stored certificates if the configuration changes. This means an administrator will have to wipe the certificates after a change in: domain https on/off caServer To wipe the certificates one should delete the Consul KV entries /traefik and /liquid/traefik/acme from the Consul UI . To follow Traefik's progress in getting the HTTPS certificates from LetsEncrypt use the Nomad UI to follow its console output.","title":"Invalid HTTPS certificates"},{"location":"Admin-Guide%3A-FAQ/#nomad-wont-schedule-jobs","text":"Try running a clean reset . Watch out for docker daemon GOMAXPROCS if you are running on many cores. For machines with >32 cores, we recommend configuring docker with GOMAXPROCS of 8-12. Nomad errors will be available in the Nomad UI after navigating to the job.","title":"Nomad won't schedule jobs"},{"location":"Admin-Guide%3A-FAQ/#snoop-gets-stuck-when-processing","text":"When processing many collections in parallel, one might run out of RabbitMQ memory. To check if this has happened: - Proxy port 10.66.60.1:9990 from server onto local machine localhost:9990 using SSH LocalForward configuration. - Visit http://localhost:9990/_snoop_rabbit/ , login with username guest and password guest . - Look at the \"Memory\" cell on the \"Overview\" screen. If it's red, then you're out of memory. If you're out of RabbitMQ memory, do one of these: - increase rabbitmq_memory_limit to 4+ GB, or - process less collections at the same time (set process = off on some of them, turn on again later)","title":"Snoop gets stuck when processing"},{"location":"Admin-Guide%3A-FAQ/#elasticsearch-wont-index-documents-hypothesis-wont-save-annotations","text":"When the elasticsearch disk exceeds some 90% limit, elasticsearch will lock itself up. Hypothesis also uses elasticsearch to save annotations, so you'll see the same issue there. Be sure to free up some disk space first, then run: export ES_ADDR=10.66.60.1:9990/_es curl -XPUT \"$ES_ADDR/_cluster/settings\" -H 'Content-Type: application/json' -d '{\"persistent\":{\"cluster.blocks.read_only\":false}}' curl -XPUT \"$ES_ADDR/_all/_settings\" -H 'Content-Type: application/json' -d'{ \"index.blocks.read_only_allow_delete\" : null } }' ... where 10.66.60.1 is the network address configured in cluster.ini and liquid.ini. For hypothesis, you have to identify the container port opened with docker ps | grep hypothesis/elasticsearch and set the ES_ADDR to that ip:port . Then, re-run the 2 commands.","title":"Elasticsearch won't index documents / Hypothesis won't save annotations"},{"location":"Admin-Guide%3A-FAQ/#docker-hub-download-rate-limit","text":"Docker Hub has been decreasing their free anonymous download limit. When deploying, you might reach this limit on your host IP. See the Docker article on download-rate-limit . Temporary work-around: - create a free Docker Hub account for each instance - do a docker login with new credentials on the machine running ./liquid deploy .","title":"Docker Hub - Download Rate Limit"},{"location":"Admin-Guide%3A-Manage-Hoover-collections/","text":"Adding and Removing collections # Adding, removing and modifying collections requires SSH access to the machine. The administrator must place the collection files in a specific directory on the server, edit the configuration .ini file to add it, and redeploy the server to start processing it. Specific instructions on managing collections can be found in the node documentation . Importing and Exporting collections # Collections can also be saved as zip files and restored by the administrator. This also requires SSH access to the machine. Specific details for importing and exporting are on the Maintenance wiki page . Managing access rights # To change access rules to these collections, visit Hoover, click on the ADMIN button, and select Collections . There, each collection can be configured to allow users, groups or public access. Please note: the Public checkbox allows any authenticated user to see the collection. It cannot be visited by unauthenticated users, so it is, in a sense, Public to the server . For more details, follow the relevant Wiki article . Limitations # Supported file types # Supported file types are listed in this table . Collection Size Limit # Collections are kept on a single SQL database each. This means we have a natural limit of how many files a collection can have. Please keep each collection document count to below 1 million documents , and each collection data size below 500 GB . For larger datasets, the admin must unpack/unarchive the data manually into folders, and split them up into collections based on the 1 million documents / 500 GB limitations above. For ease of administering many collections, a user group can be created to allow access to many collections for many users in one go. Please note that different types of data have a different density in number of files per TB. For example, zips tend to have the most files per TB, followed closely by emails (which are only a few KB each). Word documents, scans, pictures, and other multimedia tend to be less dense. Here are some rough examples on how one can reach the 1 million documents target: - 10-20 GB - zips with emails (text only) - 25-75 GB - emails (text only, unpacked) - 100-300 GB - emails (with attachments, unpacked) - 25-150 GB - zips with mixed content - 200-500 GB - Words, PDF, Scans, Pictures (unpacked) Please use the rough estimation above to manually split the dataset into collections that are below the 1 million documents and 500 GB limit . A good rule of thumb is to split datasets into collections of around 200-300 GB each. For example, if a dataset comes as a single 3 TB file called data.zip , the steps are: - Manually extract the archive - Check number of files and total size - File count in Linux: find DATA_FOLDER -type f | wc -l - Folder size in Linux: du -hd1 DATA_FOLDER | sort -h - Splt extracted data into collections of around 200 GB each, based on the examples above - Use mv commands to move folders around with no wait time, on the same file system - If any file of size > 200 GB is found inside, unpack it manually and split its contents among more collections - Final setup should have around 15 collections for that dataset","title":"Admin Guide: Manage Hoover collections"},{"location":"Admin-Guide%3A-Manage-Hoover-collections/#adding-and-removing-collections","text":"Adding, removing and modifying collections requires SSH access to the machine. The administrator must place the collection files in a specific directory on the server, edit the configuration .ini file to add it, and redeploy the server to start processing it. Specific instructions on managing collections can be found in the node documentation .","title":"Adding and Removing collections"},{"location":"Admin-Guide%3A-Manage-Hoover-collections/#importing-and-exporting-collections","text":"Collections can also be saved as zip files and restored by the administrator. This also requires SSH access to the machine. Specific details for importing and exporting are on the Maintenance wiki page .","title":"Importing and Exporting collections"},{"location":"Admin-Guide%3A-Manage-Hoover-collections/#managing-access-rights","text":"To change access rules to these collections, visit Hoover, click on the ADMIN button, and select Collections . There, each collection can be configured to allow users, groups or public access. Please note: the Public checkbox allows any authenticated user to see the collection. It cannot be visited by unauthenticated users, so it is, in a sense, Public to the server . For more details, follow the relevant Wiki article .","title":"Managing access rights"},{"location":"Admin-Guide%3A-Manage-Hoover-collections/#limitations","text":"","title":"Limitations"},{"location":"Admin-Guide%3A-Manage-Hoover-collections/#supported-file-types","text":"Supported file types are listed in this table .","title":"Supported file types"},{"location":"Admin-Guide%3A-Manage-Hoover-collections/#collection-size-limit","text":"Collections are kept on a single SQL database each. This means we have a natural limit of how many files a collection can have. Please keep each collection document count to below 1 million documents , and each collection data size below 500 GB . For larger datasets, the admin must unpack/unarchive the data manually into folders, and split them up into collections based on the 1 million documents / 500 GB limitations above. For ease of administering many collections, a user group can be created to allow access to many collections for many users in one go. Please note that different types of data have a different density in number of files per TB. For example, zips tend to have the most files per TB, followed closely by emails (which are only a few KB each). Word documents, scans, pictures, and other multimedia tend to be less dense. Here are some rough examples on how one can reach the 1 million documents target: - 10-20 GB - zips with emails (text only) - 25-75 GB - emails (text only, unpacked) - 100-300 GB - emails (with attachments, unpacked) - 25-150 GB - zips with mixed content - 200-500 GB - Words, PDF, Scans, Pictures (unpacked) Please use the rough estimation above to manually split the dataset into collections that are below the 1 million documents and 500 GB limit . A good rule of thumb is to split datasets into collections of around 200-300 GB each. For example, if a dataset comes as a single 3 TB file called data.zip , the steps are: - Manually extract the archive - Check number of files and total size - File count in Linux: find DATA_FOLDER -type f | wc -l - Folder size in Linux: du -hd1 DATA_FOLDER | sort -h - Splt extracted data into collections of around 200 GB each, based on the examples above - Use mv commands to move folders around with no wait time, on the same file system - If any file of size > 200 GB is found inside, unpack it manually and split its contents among more collections - Final setup should have around 15 collections for that dataset","title":"Collection Size Limit"},{"location":"Admin-Guide%3A-Onboarding/","text":"Checklist # Here is a list of steps required to onboard each new user: Liquid Home Page Admin: Add new User Edit User details Add User to Groups, and set App permissions Generate Invitation Link Assign User to Groups in Individual Apps: Hoover Admin Wiki.JS Admin RocketChat Admin User Phone: Enable automatic time sync settings Install 2FA Authenticator Install Chat App: Rocket.Chat Install secure side-channel to receive invitation links (Signal) User Computer: Install Chat App: Rocket.Chat Install secure side-channel to receive invitation links (Signal) Send Login Info to User Send documentation links: \"User Guide: Login\" + \"User Guide: Manage 2FA\" Send Invitation Link to User using secure side-channel (Signal) Confirmation Ask User to log in to Rocket.Chat on all platforms: Web, Phone, Desktop Ask User to perform Hoover Search and confirm it works Ask User to access Wiki and create/edit test page in their namespace Detailed explanations continue below. Prerequisites # Enable Automatic Time Sync settings on phone # Before installing an authenticator, please enable the automatic time sync on your mobile phone or other device. Here is how you can do it on your Iphone: Go to Settings > General > Date & Time > Set Automatically Here is how you do it on your MAC OS: Open the Date & Time Preferences and check the the 'set time zone automatically using current location' box Additionally please check your time settings by opening https://time.is/ on the device that has the authenticator and see the text \"Your time is exact!\" and error under 5 seconds Look at potential time differences here: http://browserspy.dk/date.php and look at \"Difference between server and PC time\". Have one of the following apps installed: Google Authenticator, Authy, Duo Mobile Be ready to receive your on boarding code per pgp or per Signal. Add new user to the Liquid bundle: # [admin] # In the Liquid Investigations home page, click the right top menu button and go to [admin] . Reminder : Make sure to manage the user creation and invitations process from the \"Liquid Investigations\" home page [admin] interface, and not from the Hoover admin interface. Both have the same theme, so there might be some confusion. Add User # Click on the green +Add, on the left side of Users; OR Click on ADD USER + button on the right; Set Username and Initial Password # Add the username and password using the firstname.lastname convention; Make sure not to use use \u201c-\u201d ; If the username is taken, you'll get an error (add surname or change order). Note : When 2FA is enabled, the admin cannot use this initial password to enter into the account; Use some random text twice, and create the invitation link afterwards. The user will not need this initial password to use the link. Edit User details # On the 'First name' field please enter the entire name (both first and last name); On the 'Last name' field please enter the name of the media organization; On the 'Email address' field please enter the user's email; All the other fields are to be left to default. Click 'Save', bottom right. Random Username # If the intention is to anonymize everyone, the admin can use a couple of random dictionary words for the usernames. For example, on Linux or macOS, you can use this terminal command to sample the words file on your machine : $ cat /usr/share/dict/words | grep -E '^[A-Za-z]+$' | sort | uniq | sort -R | head -n2 | xargs -n2 printf '%s.%s\\n' refulgence.blended Onboard user (and 2FA Re-invite process) # The user should have executed all the Prerequisites (without admin privilege); Go to Users in the Liquid Investigations home page [admin] interface (as shown in first screenshot above), type in the username and click Search; Click the checkbox to select the user that you intend to onboard; On Action dropdown menu, select 'Create invitations' and click Go. Send the generated Url to the user via encrypted email only. Send these pages to the user along with the invite link: https://github.com/liquidinvestigations/docs/wiki/User-Guide%3A-Login https://github.com/liquidinvestigations/docs/wiki/User-Guide%3A-Manage-2FA-Devices Warning : The link will be valid for 30 minutes and a single use, repeat this process if it expires. Do not open it yourself, else it will expire. Caution if using Web Services like Whatsapp, Facebook Messenger, Signal, Slack, Gmail, Sheets or Excel: they will visit the link to give you a \"preview\", and it will expire. Instructions for disabling link previews in Signal are shown in the User Guide: Login page linked above. Back to User Guide","title":"Admin Guide: Onboarding"},{"location":"Admin-Guide%3A-Onboarding/#checklist","text":"Here is a list of steps required to onboard each new user: Liquid Home Page Admin: Add new User Edit User details Add User to Groups, and set App permissions Generate Invitation Link Assign User to Groups in Individual Apps: Hoover Admin Wiki.JS Admin RocketChat Admin User Phone: Enable automatic time sync settings Install 2FA Authenticator Install Chat App: Rocket.Chat Install secure side-channel to receive invitation links (Signal) User Computer: Install Chat App: Rocket.Chat Install secure side-channel to receive invitation links (Signal) Send Login Info to User Send documentation links: \"User Guide: Login\" + \"User Guide: Manage 2FA\" Send Invitation Link to User using secure side-channel (Signal) Confirmation Ask User to log in to Rocket.Chat on all platforms: Web, Phone, Desktop Ask User to perform Hoover Search and confirm it works Ask User to access Wiki and create/edit test page in their namespace Detailed explanations continue below.","title":"Checklist"},{"location":"Admin-Guide%3A-Onboarding/#prerequisites","text":"","title":"Prerequisites"},{"location":"Admin-Guide%3A-Onboarding/#enable-automatic-time-sync-settings-on-phone","text":"Before installing an authenticator, please enable the automatic time sync on your mobile phone or other device. Here is how you can do it on your Iphone: Go to Settings > General > Date & Time > Set Automatically Here is how you do it on your MAC OS: Open the Date & Time Preferences and check the the 'set time zone automatically using current location' box Additionally please check your time settings by opening https://time.is/ on the device that has the authenticator and see the text \"Your time is exact!\" and error under 5 seconds Look at potential time differences here: http://browserspy.dk/date.php and look at \"Difference between server and PC time\". Have one of the following apps installed: Google Authenticator, Authy, Duo Mobile Be ready to receive your on boarding code per pgp or per Signal.","title":"Enable Automatic Time Sync settings on phone"},{"location":"Admin-Guide%3A-Onboarding/#add-new-user-to-the-liquid-bundle","text":"","title":"Add new user to the Liquid bundle:"},{"location":"Admin-Guide%3A-Onboarding/#admin","text":"In the Liquid Investigations home page, click the right top menu button and go to [admin] . Reminder : Make sure to manage the user creation and invitations process from the \"Liquid Investigations\" home page [admin] interface, and not from the Hoover admin interface. Both have the same theme, so there might be some confusion.","title":"[admin]"},{"location":"Admin-Guide%3A-Onboarding/#add-user","text":"Click on the green +Add, on the left side of Users; OR Click on ADD USER + button on the right;","title":"Add User"},{"location":"Admin-Guide%3A-Onboarding/#set-username-and-initial-password","text":"Add the username and password using the firstname.lastname convention; Make sure not to use use \u201c-\u201d ; If the username is taken, you'll get an error (add surname or change order). Note : When 2FA is enabled, the admin cannot use this initial password to enter into the account; Use some random text twice, and create the invitation link afterwards. The user will not need this initial password to use the link.","title":"Set Username and Initial Password"},{"location":"Admin-Guide%3A-Onboarding/#edit-user-details","text":"On the 'First name' field please enter the entire name (both first and last name); On the 'Last name' field please enter the name of the media organization; On the 'Email address' field please enter the user's email; All the other fields are to be left to default. Click 'Save', bottom right.","title":"Edit User details"},{"location":"Admin-Guide%3A-Onboarding/#random-username","text":"If the intention is to anonymize everyone, the admin can use a couple of random dictionary words for the usernames. For example, on Linux or macOS, you can use this terminal command to sample the words file on your machine : $ cat /usr/share/dict/words | grep -E '^[A-Za-z]+$' | sort | uniq | sort -R | head -n2 | xargs -n2 printf '%s.%s\\n' refulgence.blended","title":"Random Username"},{"location":"Admin-Guide%3A-Onboarding/#onboard-user-and-2fa-re-invite-process","text":"The user should have executed all the Prerequisites (without admin privilege); Go to Users in the Liquid Investigations home page [admin] interface (as shown in first screenshot above), type in the username and click Search; Click the checkbox to select the user that you intend to onboard; On Action dropdown menu, select 'Create invitations' and click Go. Send the generated Url to the user via encrypted email only. Send these pages to the user along with the invite link: https://github.com/liquidinvestigations/docs/wiki/User-Guide%3A-Login https://github.com/liquidinvestigations/docs/wiki/User-Guide%3A-Manage-2FA-Devices Warning : The link will be valid for 30 minutes and a single use, repeat this process if it expires. Do not open it yourself, else it will expire. Caution if using Web Services like Whatsapp, Facebook Messenger, Signal, Slack, Gmail, Sheets or Excel: they will visit the link to give you a \"preview\", and it will expire. Instructions for disabling link previews in Signal are shown in the User Guide: Login page linked above. Back to User Guide","title":"Onboard user (and 2FA Re-invite process)"},{"location":"Admin-Guide%3A-Permissions-for-Hoover-collections/","text":"Administrators must grant each user access to Hoover collections. go to https://hoover.liquiddemo.org/ and access the admin page https://hoover.liquiddemo.org/admin/ users have access by default to all collections that are marked public here https://hoover.liquiddemo.org/admin/search/collection/ in order to assign access rights to private collections add the user to existing groups that have access to existing private collections from here https://hoover.liquiddemo.org/admin/auth/group/ or you need to select the specific private collection from https://hoover.liquiddemo.org/admin/search/collection/ Here you have an overview of our User Guide .","title":"Admin Guide: Permissions for Hoover collections"},{"location":"Admin-Guide%3A-Using-Liquid-as-an-Onion-Service/","text":"It's recommended to configure the Tor Hidden Service before starting ./liquid deploy for the first time, otherwise you may need to follow the changing domain name instructions. Following the \"Set up Guide\" https://community.torproject.org/onion-services/setup/ you need to finish Step 0 to get a working Tor, first. Having that done, you will need to add the following two lines to your /etc/tor/torrc file: HiddenServiceDir /var/lib/tor/liquid HiddenServicePort 80 10.66.60.1:80 After restarting the tor service, you can find the created Onion Service hostname in /var/lib/tor/liquid/hostname . Use the hostname value in /opt/node/liquid.ini as domain : domain = 0123456789thisisjustaninvalidsampleandnotavvalidonionurl.onion After the settings are set, run ./liquid deploy .","title":"Admin Guide: Using Liquid as an Onion Service"},{"location":"Admin-Guide%3A-Using-Liquid-on-VPN/","text":"Liquid can be used with external HTTPS termination, so a group can configure their own VPN-limited access, or use networks that aren't connected to the Internet. Configure HTTPS # Under VPN we can't use the \"Let's Encrypt HTTP challenge\" we automatically obtain HTTPS certificates with. Because of this, you must supply your own HTTPS termination server, for example using Nginx or Apache. Liquid will run in HTTP mode with HTTPS protocol override, like this: [liquid] http_protocol_override = https And comment out the [https] section to disable it from liquid.ini : ; [https] Each app is hosted of its own subdomain. Here is the full list of subdomains to obtain certificates for: yourdomain.org hoover.yourdomain.org dokuwiki.yourdomain.org rocketchat.yourdomain.org codimd.yourdomain.org nextcloud.yourdomain.org You can skip the ones that won't be enabled. After HTTPS termination, forward all traffic to the Liquid server, port 80 (by default 10.66.60.1:80 ). Configure VPN and DNS # Set up your own VPN server, clients, and configuration. If the client VPN server is on the same machine or LAN as the Liquid servers, make sure to firewall off any direct connection from the client VPN zone into the Cluster Interface (by default IP 10.66.60.1 ). They should instead have access only to the HTTPS termination web server you configured above. The following subdomains must be configured in the DNS configurations for VPN: yourdomain.org hoover.yourdomain.org dokuwiki.yourdomain.org rocketchat.yourdomain.org codimd.yourdomain.org nextcloud.yourdomain.org These DNS records should point to your own HTTPS termination server configured in the previous section.","title":"Admin Guide: Using Liquid on VPN"},{"location":"Admin-Guide%3A-Using-Liquid-on-VPN/#configure-https","text":"Under VPN we can't use the \"Let's Encrypt HTTP challenge\" we automatically obtain HTTPS certificates with. Because of this, you must supply your own HTTPS termination server, for example using Nginx or Apache. Liquid will run in HTTP mode with HTTPS protocol override, like this: [liquid] http_protocol_override = https And comment out the [https] section to disable it from liquid.ini : ; [https] Each app is hosted of its own subdomain. Here is the full list of subdomains to obtain certificates for: yourdomain.org hoover.yourdomain.org dokuwiki.yourdomain.org rocketchat.yourdomain.org codimd.yourdomain.org nextcloud.yourdomain.org You can skip the ones that won't be enabled. After HTTPS termination, forward all traffic to the Liquid server, port 80 (by default 10.66.60.1:80 ).","title":"Configure HTTPS"},{"location":"Admin-Guide%3A-Using-Liquid-on-VPN/#configure-vpn-and-dns","text":"Set up your own VPN server, clients, and configuration. If the client VPN server is on the same machine or LAN as the Liquid servers, make sure to firewall off any direct connection from the client VPN zone into the Cluster Interface (by default IP 10.66.60.1 ). They should instead have access only to the HTTPS termination web server you configured above. The following subdomains must be configured in the DNS configurations for VPN: yourdomain.org hoover.yourdomain.org dokuwiki.yourdomain.org rocketchat.yourdomain.org codimd.yourdomain.org nextcloud.yourdomain.org These DNS records should point to your own HTTPS termination server configured in the previous section.","title":"Configure VPN and DNS"},{"location":"Admin-Guide%3A-Using-Liquid-with-WireGuard-VPN-and-Tails-Clients/","text":"Liquid using WireGuard and Tails # Work in progress # Liquid can be used in an isolated environment accessible using a WireGuard VPN only. Moreover, a slightly more paranoid setup is using Tails accessing this isolated service. Consider the generic instruction to use Admin Guide: Using Liquid on VPN , first. Setting up the server-side WireGuard VPN # Based on top of the WireGuard Quick Start you may want to use the WireGuard installer provided by angristan at GitHub . Some unofficial WireGuard Documentation is very useful for more advanced setups. Install WireGuard # sudo apt install wireguard Create a private/public key pair using: cd /etc/wireguard umask 077 wg genkey | tee privatekey | wg pubkey > publickey Create a configuration file at /etc/wireguard/wg0.conf using a private IP range like 10.11.12.0/24 : [Interface] Address = 10.11.12.1/32 SaveConfig = true PostUp = iptables -t nat -I POSTROUTING -o eth0 -j MASQUERADE PreDown = iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE ListenPort = 51820 PrivateKey = **private server key** [Peer] PublicKey = **public client key** AllowedIPs = 10.11.12.2/32 Start and stop using wg-quick # # start sudo wg-quick up wg0 # stop sudo wg-quick down wg0 Adding clients # You'll need the public key for every peer and assign an individual IP used on the client side. On the client install WireGuard and create a configuration file /etc/wireguard/wg0.conf : [Interface] PrivateKey = **private client key** Address = 10.11.12.2/32 [Peer] PublicKey = **public server key** AllowedIPs = 10.11.12.0/24 Endpoint = **public server ip**:51820 PersistentKeepalive = 25 Add the client peer on the server side using: # add peer sudo wg set wg0 peer **public client key** allowed-ips 10.11.12.2 # remove peer sudo wg set wg0 peer **public client key** remove Provision Tails to be a peer # Assuming: an existing Tails Persistence layer, a configured Administration user and an enabled Unsafe Browser, start installing WireGuard using sudo apt install wireguard , first. Answer Install Every Time when prompted. Add a client config as above. Allow incoming and outgoing udp packets by editing /etc/ferm/ferm.conf : domain ip { table filter { chain INPUT { policy DROP; daddr (**public server ip**/32) { proto udp ACCEPT; } # ... chain OUTPUT { policy DROP; daddr (**public server ip**/32) { proto udp ACCEPT; } # ... } Apply changes with service ferm restart . Additional configs for local DNS and Certificates #","title":"Liquid using WireGuard and Tails"},{"location":"Admin-Guide%3A-Using-Liquid-with-WireGuard-VPN-and-Tails-Clients/#liquid-using-wireguard-and-tails","text":"","title":"Liquid using WireGuard and Tails"},{"location":"Admin-Guide%3A-Using-Liquid-with-WireGuard-VPN-and-Tails-Clients/#work-in-progress","text":"Liquid can be used in an isolated environment accessible using a WireGuard VPN only. Moreover, a slightly more paranoid setup is using Tails accessing this isolated service. Consider the generic instruction to use Admin Guide: Using Liquid on VPN , first.","title":"Work in progress"},{"location":"Admin-Guide%3A-Using-Liquid-with-WireGuard-VPN-and-Tails-Clients/#setting-up-the-server-side-wireguard-vpn","text":"Based on top of the WireGuard Quick Start you may want to use the WireGuard installer provided by angristan at GitHub . Some unofficial WireGuard Documentation is very useful for more advanced setups.","title":"Setting up the server-side WireGuard VPN"},{"location":"Admin-Guide%3A-Using-Liquid-with-WireGuard-VPN-and-Tails-Clients/#install-wireguard","text":"sudo apt install wireguard Create a private/public key pair using: cd /etc/wireguard umask 077 wg genkey | tee privatekey | wg pubkey > publickey Create a configuration file at /etc/wireguard/wg0.conf using a private IP range like 10.11.12.0/24 : [Interface] Address = 10.11.12.1/32 SaveConfig = true PostUp = iptables -t nat -I POSTROUTING -o eth0 -j MASQUERADE PreDown = iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE ListenPort = 51820 PrivateKey = **private server key** [Peer] PublicKey = **public client key** AllowedIPs = 10.11.12.2/32","title":"Install WireGuard"},{"location":"Admin-Guide%3A-Using-Liquid-with-WireGuard-VPN-and-Tails-Clients/#start-and-stop-using-wg-quick","text":"# start sudo wg-quick up wg0 # stop sudo wg-quick down wg0","title":"Start and stop using wg-quick"},{"location":"Admin-Guide%3A-Using-Liquid-with-WireGuard-VPN-and-Tails-Clients/#adding-clients","text":"You'll need the public key for every peer and assign an individual IP used on the client side. On the client install WireGuard and create a configuration file /etc/wireguard/wg0.conf : [Interface] PrivateKey = **private client key** Address = 10.11.12.2/32 [Peer] PublicKey = **public server key** AllowedIPs = 10.11.12.0/24 Endpoint = **public server ip**:51820 PersistentKeepalive = 25 Add the client peer on the server side using: # add peer sudo wg set wg0 peer **public client key** allowed-ips 10.11.12.2 # remove peer sudo wg set wg0 peer **public client key** remove","title":"Adding clients"},{"location":"Admin-Guide%3A-Using-Liquid-with-WireGuard-VPN-and-Tails-Clients/#provision-tails-to-be-a-peer","text":"Assuming: an existing Tails Persistence layer, a configured Administration user and an enabled Unsafe Browser, start installing WireGuard using sudo apt install wireguard , first. Answer Install Every Time when prompted. Add a client config as above. Allow incoming and outgoing udp packets by editing /etc/ferm/ferm.conf : domain ip { table filter { chain INPUT { policy DROP; daddr (**public server ip**/32) { proto udp ACCEPT; } # ... chain OUTPUT { policy DROP; daddr (**public server ip**/32) { proto udp ACCEPT; } # ... } Apply changes with service ferm restart .","title":"Provision Tails to be a peer"},{"location":"Admin-Guide%3A-Using-Liquid-with-WireGuard-VPN-and-Tails-Clients/#additional-configs-for-local-dns-and-certificates","text":"","title":"Additional configs for local DNS and Certificates"},{"location":"Admin-Guide%3A-Wiki-Permissions-for-Dokuwiki/","text":"DokuWiki allows for access control for each page and namespace of the wiki. Permissions can be given to individual users or to entire groups. Admin permissions will be assigned in both the Liquid Core Admin page as well as in the DokuWiki Admin pages. Liquid Core Admin interface # Go to Liquid Admin Under 'Groups' click the green plus sign to create the group of your choice. Name your group and assign the desired permissions by selecting the checkmarks next to the apps A list of the groups that you created will be displayed under 'Groups', each having access to the different available apps Go to Liquid Admin under Users and create a User and assign it to a Group When creating a user, you can assign the user to a specific group In this example, the user test.1 is part of the toto_cutugno and celentano groups A list of the created users and their respective group membership will be displayed in the Users view Notes : * Only users marked as \"Staff\" and \"Superuser\" in the Liquid Home Page Admin will see this interface. Any user marked as \"Staff\" and \"Superuser\" in the Liquid Home Page Admin will have potential access to the entire wiki, both secret and public: they can give themselves access to any page. DokuWiki Admin interface # The Wiki Groups themselves are independent of the rest of the system. If you create a group in the 'Liquid Core Admin' page, it will not be synced here, so the user needs to be given access to users and groups separately from the home page or Hoover. Navigate to the DokuWiki App, to the Admin interface 'Virtual Groups': Create and manage wiki groups # Select 'Virtual Groups' Use these simple forms, to add new groups to the system, and link existing users to groups. Caveat : This page does not check if the usernames are actually valid in the system, so please double-check if the correct username is set. To avoid any errors, please copy/paste the username from the Liquid Core Admin page instead of manually writing it. 'Access Control Lists' # To see this mage, you must have Superuser permission. This page controls what users and groups have the following permissions: Read Edit Create Upload Delete . It allows you to configure access for each page/namespace, either for a specific user or for an entire group. You can also set the default permission set (the * namespace). When managing group access permissions, you can assign different levels of permissions, with 'None' being the most limiting access level and 'Delete' being the most permissive level, depending on each use case. More information on the 'Access Control Lists' system, including examples, can be found here: Dokuwiki Access Restrictions , Access Control Examples . Sitemap # Make sure everyone has access to the tools:index page, to access the Sitemap. Use these ACL rules to give everyone access to tools:index : Pre-defined Groups: ALL, admin # You can make use of the following groups created automatically: - ALL and user - both contain all users of the wiki. - admin - contains people with Admin access (marked as Staff in Liquid Home Page). However, they cannot access the Virtual Group or ACL pages. - superuser - contains all people with Superuser access (marked as Superuser in Liquid Home Page) The Superuser permission model # Accounts marked as Superuser in the Liquid Home page (and automatically added to the superuser group in DokuWiki) are the only accounts that can access the Virtual Group Manager and the ACL Manager. They are not restricted by the ACLs they create. This means they can view, edit, move, delete any page, in any namespace. Because of their elevated access, these accounts should only be used by people with direct access to the servers, for maintenance and fixing permissions. See Dokuwiki Access Restrictions Documentation for more details. Warnings # The Virtual Manager and ACL forms do not check if the groups and usernames are actually valid in the system, so please double-check the correct group is set. When possible, use copy/paste from the Liquid Home Page / Virtual Group manager instead of manually writing the user/group name, to avoid errors.","title":"Admin Guide: Wiki Permissions for Dokuwiki"},{"location":"Admin-Guide%3A-Wiki-Permissions-for-Dokuwiki/#liquid-core-admin-interface","text":"Go to Liquid Admin Under 'Groups' click the green plus sign to create the group of your choice. Name your group and assign the desired permissions by selecting the checkmarks next to the apps A list of the groups that you created will be displayed under 'Groups', each having access to the different available apps Go to Liquid Admin under Users and create a User and assign it to a Group When creating a user, you can assign the user to a specific group In this example, the user test.1 is part of the toto_cutugno and celentano groups A list of the created users and their respective group membership will be displayed in the Users view Notes : * Only users marked as \"Staff\" and \"Superuser\" in the Liquid Home Page Admin will see this interface. Any user marked as \"Staff\" and \"Superuser\" in the Liquid Home Page Admin will have potential access to the entire wiki, both secret and public: they can give themselves access to any page.","title":"Liquid Core Admin interface"},{"location":"Admin-Guide%3A-Wiki-Permissions-for-Dokuwiki/#dokuwiki-admin-interface","text":"The Wiki Groups themselves are independent of the rest of the system. If you create a group in the 'Liquid Core Admin' page, it will not be synced here, so the user needs to be given access to users and groups separately from the home page or Hoover. Navigate to the DokuWiki App, to the Admin interface","title":"DokuWiki Admin interface"},{"location":"Admin-Guide%3A-Wiki-Permissions-for-Dokuwiki/#virtual-groups-create-and-manage-wiki-groups","text":"Select 'Virtual Groups' Use these simple forms, to add new groups to the system, and link existing users to groups. Caveat : This page does not check if the usernames are actually valid in the system, so please double-check if the correct username is set. To avoid any errors, please copy/paste the username from the Liquid Core Admin page instead of manually writing it.","title":"'Virtual Groups': Create and manage wiki groups"},{"location":"Admin-Guide%3A-Wiki-Permissions-for-Dokuwiki/#access-control-lists","text":"To see this mage, you must have Superuser permission. This page controls what users and groups have the following permissions: Read Edit Create Upload Delete . It allows you to configure access for each page/namespace, either for a specific user or for an entire group. You can also set the default permission set (the * namespace). When managing group access permissions, you can assign different levels of permissions, with 'None' being the most limiting access level and 'Delete' being the most permissive level, depending on each use case. More information on the 'Access Control Lists' system, including examples, can be found here: Dokuwiki Access Restrictions , Access Control Examples .","title":"'Access Control Lists'"},{"location":"Admin-Guide%3A-Wiki-Permissions-for-Dokuwiki/#sitemap","text":"Make sure everyone has access to the tools:index page, to access the Sitemap. Use these ACL rules to give everyone access to tools:index :","title":"Sitemap"},{"location":"Admin-Guide%3A-Wiki-Permissions-for-Dokuwiki/#pre-defined-groups-all-admin","text":"You can make use of the following groups created automatically: - ALL and user - both contain all users of the wiki. - admin - contains people with Admin access (marked as Staff in Liquid Home Page). However, they cannot access the Virtual Group or ACL pages. - superuser - contains all people with Superuser access (marked as Superuser in Liquid Home Page)","title":"Pre-defined Groups: ALL, admin"},{"location":"Admin-Guide%3A-Wiki-Permissions-for-Dokuwiki/#the-superuser-permission-model","text":"Accounts marked as Superuser in the Liquid Home page (and automatically added to the superuser group in DokuWiki) are the only accounts that can access the Virtual Group Manager and the ACL Manager. They are not restricted by the ACLs they create. This means they can view, edit, move, delete any page, in any namespace. Because of their elevated access, these accounts should only be used by people with direct access to the servers, for maintenance and fixing permissions. See Dokuwiki Access Restrictions Documentation for more details.","title":"The Superuser permission model"},{"location":"Admin-Guide%3A-Wiki-Permissions-for-Dokuwiki/#warnings","text":"The Virtual Manager and ACL forms do not check if the groups and usernames are actually valid in the system, so please double-check the correct group is set. When possible, use copy/paste from the Liquid Home Page / Virtual Group manager instead of manually writing the user/group name, to avoid errors.","title":"Warnings"},{"location":"Architecture/","text":"Liquid Investigations is a bundle of applications, hosted together on a cluster, with a common authentication layer. Here are the main components: cluster : automates Nomad , Consul and Vault to spin up a cluster node : deploys the Liquid Investigations bundle on the cluster core : manages users and provides OAuth2 SSO for the apps authproxy : wraps each app, functions as an SSO client, connected to core Rocket.Chat : real-time chat, similar to IRC and Slack Nextcloud : file sharing Hoover : search in collections of documents Snoop : extract data from files DokuWiki : wiki for the users to organize their research and internal documentation Hypothesis : annotate documents in hoover , nextcloud and dokuwiki CodiMD : realtime collaborative Markdown editor","title":"Architecture"},{"location":"Bug-Reporting-Guide-for-Testers/","text":"How To Report A Bug # When reporting bugs, the key is to give enough information so that the developer can make the website fail in front of them in the same way. If they cannot do that, then they will need to keep asking you for more information until they can make it fail. In order to do this, you should provide at least the following information: # The priority of the issue # High priority incidents as \"Major\" Priority - website doesn't load at all. Medium priority incidents as \"Normal\" Priority - I see pages, but functionality is sketchy. Low priority incidents as \"Low\" Priority - everything works, however this button is offset. The browser and operating system you are using # Go to http://www.thismachine.info/ and copy/paste the information shown. Website information # Which website you are using (full url) Whether you are logged in to it The username of the account you have logged in with. Precise steps to reproduce the bug. # Here you need to detail exactly what you did to get to the bug - this the most important part of any bug report. Be as precise as you can. Imprecise: \"Go to my account\". Precise: \"When logged in, click on the \"My account\" link on http://www.mywebsite.com/\". After your steps, precisely describe the observed result and the expected result. Clearly separate facts (observations) from speculations. Imprecise: \"It doesn't work\" Precise: \"Instead of showing my account, it shows the message 'Your browser does not support cookies (error -91)'.\" Reference to Business Rules which document how this should work (where applicable) # It may be that what you're seeing is not a bug, but a feature you are not familiar with. Please search to find where it is documented, and compare your experiences with what should happen. Include a link or reference to the documentation in your bug reports. Documentation on Hoover is here: https://hoover.readthedocs.io/en/latest/ Documentation on Liquid is here: Documentation on DokuWiki, RocketChat, NextCloud... File your bug report # For now, in order to file a bug, send an email with a title explaining the bug (Bug Report: Hoover search not working) to rcij@riseup.net. If you use sensitive urls encrypt your message (rcij key here http://pgp.zdv.uni-mainz.de:11371/pks/lookup?op=get&search=0x44B07B4C9F082914)","title":"How To Report A Bug"},{"location":"Bug-Reporting-Guide-for-Testers/#how-to-report-a-bug","text":"When reporting bugs, the key is to give enough information so that the developer can make the website fail in front of them in the same way. If they cannot do that, then they will need to keep asking you for more information until they can make it fail.","title":"How To Report A Bug"},{"location":"Bug-Reporting-Guide-for-Testers/#in-order-to-do-this-you-should-provide-at-least-the-following-information","text":"","title":"In order to do this, you should provide at least the following information:"},{"location":"Bug-Reporting-Guide-for-Testers/#the-priority-of-the-issue","text":"High priority incidents as \"Major\" Priority - website doesn't load at all. Medium priority incidents as \"Normal\" Priority - I see pages, but functionality is sketchy. Low priority incidents as \"Low\" Priority - everything works, however this button is offset.","title":"The priority of the issue"},{"location":"Bug-Reporting-Guide-for-Testers/#the-browser-and-operating-system-you-are-using","text":"Go to http://www.thismachine.info/ and copy/paste the information shown.","title":"The browser and operating system you are using"},{"location":"Bug-Reporting-Guide-for-Testers/#website-information","text":"Which website you are using (full url) Whether you are logged in to it The username of the account you have logged in with.","title":"Website information"},{"location":"Bug-Reporting-Guide-for-Testers/#precise-steps-to-reproduce-the-bug","text":"Here you need to detail exactly what you did to get to the bug - this the most important part of any bug report. Be as precise as you can. Imprecise: \"Go to my account\". Precise: \"When logged in, click on the \"My account\" link on http://www.mywebsite.com/\". After your steps, precisely describe the observed result and the expected result. Clearly separate facts (observations) from speculations. Imprecise: \"It doesn't work\" Precise: \"Instead of showing my account, it shows the message 'Your browser does not support cookies (error -91)'.\"","title":"Precise steps to reproduce the bug."},{"location":"Bug-Reporting-Guide-for-Testers/#reference-to-business-rules-which-document-how-this-should-work-where-applicable","text":"It may be that what you're seeing is not a bug, but a feature you are not familiar with. Please search to find where it is documented, and compare your experiences with what should happen. Include a link or reference to the documentation in your bug reports. Documentation on Hoover is here: https://hoover.readthedocs.io/en/latest/ Documentation on Liquid is here: Documentation on DokuWiki, RocketChat, NextCloud...","title":"Reference to Business Rules which document how this should work (where applicable)"},{"location":"Bug-Reporting-Guide-for-Testers/#file-your-bug-report","text":"For now, in order to file a bug, send an email with a title explaining the bug (Bug Report: Hoover search not working) to rcij@riseup.net. If you use sensitive urls encrypt your message (rcij key here http://pgp.zdv.uni-mainz.de:11371/pks/lookup?op=get&search=0x44B07B4C9F082914)","title":"File your bug report"},{"location":"Contributing/","text":"Submit feedback # Submit feedback and feature requests as GitHub Issues at https://github.com/liquidinvestigations/node. You should also join our Slack channel: <TODO> Report a bug # Please see the Security page about reporting security bugs. Report all other bugs as GitHub Issues under the relevant repository listed in the Architecture page. If unsure, open a new Issue at https://github.com/liquidinvestigations/node and we'll move it to the relevant repository. Learn about the technologies used in the project # There is a Reading List we made for the 2020 summer internship. It references all the main components in the system. Get started with development # To get started see Liquid Investigations Development First Steps . Send code # All work is done through GitHub Pull Requests. See the following page for technical details: - Technical Overview - Development","title":"Contributing"},{"location":"Contributing/#submit-feedback","text":"Submit feedback and feature requests as GitHub Issues at https://github.com/liquidinvestigations/node. You should also join our Slack channel: <TODO>","title":"Submit feedback"},{"location":"Contributing/#report-a-bug","text":"Please see the Security page about reporting security bugs. Report all other bugs as GitHub Issues under the relevant repository listed in the Architecture page. If unsure, open a new Issue at https://github.com/liquidinvestigations/node and we'll move it to the relevant repository.","title":"Report a bug"},{"location":"Contributing/#learn-about-the-technologies-used-in-the-project","text":"There is a Reading List we made for the 2020 summer internship. It references all the main components in the system.","title":"Learn about the technologies used in the project"},{"location":"Contributing/#get-started-with-development","text":"To get started see Liquid Investigations Development First Steps .","title":"Get started with development"},{"location":"Contributing/#send-code","text":"All work is done through GitHub Pull Requests. See the following page for technical details: - Technical Overview - Development","title":"Send code"},{"location":"Development/","text":"Development # The different components require different setups for working on them. Please take note of our Hardware requirements before attempting to run the services on your machine. If you need instructions to set up for development see Liquid Investigations Development First Steps . Working on the infrastructure # No special instructions are needed here; simply clone the node repository and patch it to your needs, without chaning anything inside the service containers themselves. Working on backend services # Go to https://github.com/liquidinvestigations/node/blob/master/docs/Development.md for details on mounting each container's code to your local machine. Working on the Hoover UI # Go to the UI repository https://github.com/liquidinvestigations/hoover-ui and follow the instructions there to use an already existing backend when doing UI development.","title":"Development"},{"location":"Development/#development","text":"The different components require different setups for working on them. Please take note of our Hardware requirements before attempting to run the services on your machine. If you need instructions to set up for development see Liquid Investigations Development First Steps .","title":"Development"},{"location":"Development/#working-on-the-infrastructure","text":"No special instructions are needed here; simply clone the node repository and patch it to your needs, without chaning anything inside the service containers themselves.","title":"Working on the infrastructure"},{"location":"Development/#working-on-backend-services","text":"Go to https://github.com/liquidinvestigations/node/blob/master/docs/Development.md for details on mounting each container's code to your local machine.","title":"Working on backend services"},{"location":"Development/#working-on-the-hoover-ui","text":"Go to the UI repository https://github.com/liquidinvestigations/hoover-ui and follow the instructions there to use an already existing backend when doing UI development.","title":"Working on the Hoover UI"},{"location":"Elasticsearch-Benchmarks/","text":"For benchmarking searches we use esrally . It can be used to either benchmark an existing cluster or create a temporary one just for benchmarking purposes. We recommend first running rally with a temporary cluster, using the default pipeline while setting --distribution-version=6.8.3 . Please run the following tracks : geopoint geonames http_logs Check the esrally documentation on how to benchmark an existing cluster. The node addresses can be found in the Nomad UI. tl;dr # sudo apt install default-jre-headless export JAVA_HOME=$(readlink -f /usr/bin/java | sed \"s:bin/java::\") pip3 install esrally esrally configure esrally --distribution-version=6.8.3 esrally --distribution-version=6.8.3 --track=geopoint esrally --distribution-version=6.8.3 --track=geonames esrally --distribution-version=6.8.3 --track=http_logs","title":"Elasticsearch Benchmarks"},{"location":"Elasticsearch-Benchmarks/#tldr","text":"sudo apt install default-jre-headless export JAVA_HOME=$(readlink -f /usr/bin/java | sed \"s:bin/java::\") pip3 install esrally esrally configure esrally --distribution-version=6.8.3 esrally --distribution-version=6.8.3 --track=geopoint esrally --distribution-version=6.8.3 --track=geonames esrally --distribution-version=6.8.3 --track=http_logs","title":"tl;dr"},{"location":"Hardware-requirements/","text":"Single Node Configuration # To run the Liquid Investigations bundle you will need, at a minimum: A single Linux system with 28 GB RAM (no Hoover optional features enabled), or 50 GB RAM (all Hoover optional features enabled) 300 GB SSD array 1 TB HDD/NAS array Docker version 18 or newer Python 3.6+ pipenv A system in this configuration should be able to handle about 200 GB of Hoover source data while also running all the bundled applications, see the next section for details. Liquid Investigations has only been tested on Ubuntu 18 & 20 LTS, Debian 10 and CentOS. Storage # It's highly recommended to use RAID-5 (or better) for both the SSD and the HDD volumes. Backups should also be saved on a different machine, or at least on a different disk array. Liquid Investigations requires SSD storage (either SATA or M.2) to be available for: - operating system and host system packages - 20 GB - docker images - 50 GB - system runtime metrics - ~30 GB for the last 4 weeks of system metrics - application data - max. 50 GB for wiki, chat, pads, annotations - hoover elasticsearch and databases storage - ~0.6 X size of source data The following can be stored on slower storage, HDD or NAS : - hoover source collection data - includes files uploaded by users - hoover internal data (data blobs) - ~3 X size of source data Backups also take space: expect application data to be 5-50GB / snapshot, and collection backups to take as much as 2X the source data. So, for example, you need to be able to search through 2TB of source collection data. You need at least: server HDD array: 2TB (source) + 6TB (blobs) = 8TB server SSD array: 1.2TB (hoover database and elasticsearch) + .15TB (everything else in the list) = 1.35TB backup machine: 2 * 2 * 2TB (2 backups for each collection processed) + 240GB (12 application snapshots) = 8.24TB Note: the example 2 TB of source data mentioned above should be manually divided into around 10 collections , following the Collection Size Limit section . Memory # The minimal memory requirement to run every app is 28GB. - When the number of concurrent users reaches around 50-100, an extra 8GB of RAM is needed to scale the number of web server and authentication proxy containers. - The memory requirement for hoover's elasticsearch and postgresql depends on source collection data size: - ~1TB source data: machine requires in total 32GB of RAM - 5GB elasticsearch, 3GB postgresql - 7GB of additional RAM to be available to the OS (will be used as filesystem cache) - ~3TB source data: machine requires in total 64GB of RAM - 16GB elasticsearch, 6GB postgresql - 22GB of additional RAM to be used as filesystem cache - more than 8TB source data: machine requires in total 128GB RAM - 30GB elasticsearch, 10GB postgresql - 40GB of additional RAM to be used as filesystem cache Compute # Use a machine with at least 4 CPU cores. The system has been seen to scale well to 50 cores. Enable hyperthreading if available. Example setup # Most of the work has been done on gaming computers with these specifications. Prices have been sampled in May 2020 from european Amazon. ~2017 intel i7 with 8 cores and hyper-threading (e.g. intel i7-9700K, $400) 64 GB DDR4 (4x16 kit, bulk, $300) 2 x 2 TB SSD PCIe M.2 arranged in software RAID-1 (intel 665p, $280 each) 3 x 8 TB HDD arranged in software RAID-5 (WD red, $220 each) compatible motherboard, case, 800 watt power unit (total $350) gigabit Ethernet internet connection Setup cost total: ~$2300 With some fine-tuning, this single node system has served around 120 concurrent users searching through 3 TB of source data. Extending the setup # Processing speed may be improved by using adding more workers to the cluster. These can be flexibly added and removed; see the next section. Multi Node Configuration # The single-node setup can be extended to multiple machines if needed. Use at least 16 GB of RAM and 100 GB of local SSD storage for each worker node in the cluster. Use at least 32 GB of RAM for the server node. Also, the storage only need to be connected to this server node. Connect all the nodes using a firewalled VPN in the same IPv4 /24 subnet. A 1Gbps LAN should give acceptable performance.","title":"Single Node Configuration"},{"location":"Hardware-requirements/#single-node-configuration","text":"To run the Liquid Investigations bundle you will need, at a minimum: A single Linux system with 28 GB RAM (no Hoover optional features enabled), or 50 GB RAM (all Hoover optional features enabled) 300 GB SSD array 1 TB HDD/NAS array Docker version 18 or newer Python 3.6+ pipenv A system in this configuration should be able to handle about 200 GB of Hoover source data while also running all the bundled applications, see the next section for details. Liquid Investigations has only been tested on Ubuntu 18 & 20 LTS, Debian 10 and CentOS.","title":"Single Node Configuration"},{"location":"Hardware-requirements/#storage","text":"It's highly recommended to use RAID-5 (or better) for both the SSD and the HDD volumes. Backups should also be saved on a different machine, or at least on a different disk array. Liquid Investigations requires SSD storage (either SATA or M.2) to be available for: - operating system and host system packages - 20 GB - docker images - 50 GB - system runtime metrics - ~30 GB for the last 4 weeks of system metrics - application data - max. 50 GB for wiki, chat, pads, annotations - hoover elasticsearch and databases storage - ~0.6 X size of source data The following can be stored on slower storage, HDD or NAS : - hoover source collection data - includes files uploaded by users - hoover internal data (data blobs) - ~3 X size of source data Backups also take space: expect application data to be 5-50GB / snapshot, and collection backups to take as much as 2X the source data. So, for example, you need to be able to search through 2TB of source collection data. You need at least: server HDD array: 2TB (source) + 6TB (blobs) = 8TB server SSD array: 1.2TB (hoover database and elasticsearch) + .15TB (everything else in the list) = 1.35TB backup machine: 2 * 2 * 2TB (2 backups for each collection processed) + 240GB (12 application snapshots) = 8.24TB Note: the example 2 TB of source data mentioned above should be manually divided into around 10 collections , following the Collection Size Limit section .","title":"Storage"},{"location":"Hardware-requirements/#memory","text":"The minimal memory requirement to run every app is 28GB. - When the number of concurrent users reaches around 50-100, an extra 8GB of RAM is needed to scale the number of web server and authentication proxy containers. - The memory requirement for hoover's elasticsearch and postgresql depends on source collection data size: - ~1TB source data: machine requires in total 32GB of RAM - 5GB elasticsearch, 3GB postgresql - 7GB of additional RAM to be available to the OS (will be used as filesystem cache) - ~3TB source data: machine requires in total 64GB of RAM - 16GB elasticsearch, 6GB postgresql - 22GB of additional RAM to be used as filesystem cache - more than 8TB source data: machine requires in total 128GB RAM - 30GB elasticsearch, 10GB postgresql - 40GB of additional RAM to be used as filesystem cache","title":"Memory"},{"location":"Hardware-requirements/#compute","text":"Use a machine with at least 4 CPU cores. The system has been seen to scale well to 50 cores. Enable hyperthreading if available.","title":"Compute"},{"location":"Hardware-requirements/#example-setup","text":"Most of the work has been done on gaming computers with these specifications. Prices have been sampled in May 2020 from european Amazon. ~2017 intel i7 with 8 cores and hyper-threading (e.g. intel i7-9700K, $400) 64 GB DDR4 (4x16 kit, bulk, $300) 2 x 2 TB SSD PCIe M.2 arranged in software RAID-1 (intel 665p, $280 each) 3 x 8 TB HDD arranged in software RAID-5 (WD red, $220 each) compatible motherboard, case, 800 watt power unit (total $350) gigabit Ethernet internet connection Setup cost total: ~$2300 With some fine-tuning, this single node system has served around 120 concurrent users searching through 3 TB of source data.","title":"Example setup"},{"location":"Hardware-requirements/#extending-the-setup","text":"Processing speed may be improved by using adding more workers to the cluster. These can be flexibly added and removed; see the next section.","title":"Extending the setup"},{"location":"Hardware-requirements/#multi-node-configuration","text":"The single-node setup can be extended to multiple machines if needed. Use at least 16 GB of RAM and 100 GB of local SSD storage for each worker node in the cluster. Use at least 32 GB of RAM for the server node. Also, the storage only need to be connected to this server node. Connect all the nodes using a firewalled VPN in the same IPv4 /24 subnet. A 1Gbps LAN should give acceptable performance.","title":"Multi Node Configuration"},{"location":"Home/","text":"Liquid Investigations is a network infrastructure that makes it easy for anyone to collaboratively research and co-create knowledge. Robust and built from the margins of Europe by journalists and technologists. Story # Today Liquid is a solid digital infrastructure where you can co-create knowledge by searching and exchanging information between and beyond your institutional boundaries. Using Liquid you can build your research network of choice, adding suitable workflows and governance rules. New collaborative applications will keep popping-up and Liquid is designed to integrate the best of them. Liquid is an alternative place to migrate away from global centralized platforms offered by large for-profit or non-profit global players. Motivation # Digital tools to support team work in the realm of knowledge co-creation, be it for journalism or for any other type of collaborative research, are global centralized platforms, reinforcing world inequalities and leading a wave of global digital colonization. They become governance tools and contributors who depend on them end up being surveilled, controlled and misused by the owners of such digital infrastructures. Currently there is no one-stop shop, free and open source, to offer such an infrastructure. Current Features # Liquid is a self-hosted knowledge production platform, allowing users full control over their data. Currently, the Liquid bundle let\u2019s you index, OCR & search, tagg, build wikis, chat, share files, collaborate on pads and annotations in a self-hosted environment behind a 2FA layer. It\u2019s scalable from cheap hardware up to enterprise grade environments. Liquid integrates already established and easy to use apps, allowing for a seamless, collaborative workflow. Currently packaged applications: * Index and Search: Hoover, multi-faceted search technology, creating a bridge between all the other apps * Wiki: Dokuwiki * Chat: Rocket.chat * Share files: Nextcloud * Pads: CodiMD Future # The current teamwork infrastructures are displacing all individuals towards U.S. owned global clouds (Microsoft Teams, Atlassian, Zoom). Built-in limitations of the centralized platforms will hit more walls than the Orwellian surveillance or censorship capabilities, the cascading global outages of Google , Slack , Twitter , GitHub , FaceBook or the data-centers on fire . The roll out of changes in legislation will hit the platform-based economy: GDPR and enforced transportability of data; monetized contributors treated as employees and monetization by force of free knowledge exchanges reigned in . Independence from global digital colonization will become a non-negotiable value. In the realm of knowledge co-creation, groups of people will want to start self determining their digital lives and renegotiate the basis of collaborations across institutions. The first step is to have no dependency on the digital infrastructures they use, their workflows, their ownership and their business models and be the only ones who can decide how to govern their groups and interactions and how and if to monetize such interactions. Liquid is here to foster independent knowledge co-creation, be it for journalism, activism, academia or in-between and beyond. History # Originally started by the Romanian Centre for Investigative Journalism, it was expanded for the use of EIC.network in a dozen projects by media in 20 countries , publishing thousands of stories in a dozen languages. How to make collections of data available for collaborative research outside of big institutions and expensive infrastructures and proprietary solutions ? Liquid was born out of this real need of cross-border investigative journalists in Eastern Europe to share in working groups the research on large collections of source documents (leaks, scraps, archives). 2012: First prototype of the idea involved collection of source documents talking to each-other . 2015: A second a totally different approach involved the creation of a collaborative search tool called Hoover . 2016: The search tool really took a production role in the context of the EIC network, responding to the need to shelter investigative work on leaked documents and protecting the whistleblower of Football Leaks . Soon enough it has matured into a reliable search tool, co-owned and co-managed by investigative journalists in more than a dozen European media. Even before facilitating more than 100 journalists to collaboratively search documents, there was the realisation that they would lack a place to exchange information and to co-create a knowledge base. That\u2019s how Liquid kicked off. Besides the indexing and searching of archives, the bundle added a shared knowledge base, chat, file sharing, pads and annotations, all wrapped up behind a 2FA for more secretive types of work. 2017: The prototype bundle won a Google innovation grant and started to be used in production. So far, the search tool Hoover or the entire Liquid bundle have been used by the following organizations: Installation # Follow the Installation page on setting up a working system. Documentations # For user documentation go to User Guide . For installation instructions and technical details go to Technical Overview . Contributing # To make it better go to Contributing . Go here if you want to know what are we working on, each month. If you want to get in touch with us, send an email to candea [at] eic.network Liquid Investigations is Free Software under the MIT Licence.","title":"Home"},{"location":"Home/#story","text":"Today Liquid is a solid digital infrastructure where you can co-create knowledge by searching and exchanging information between and beyond your institutional boundaries. Using Liquid you can build your research network of choice, adding suitable workflows and governance rules. New collaborative applications will keep popping-up and Liquid is designed to integrate the best of them. Liquid is an alternative place to migrate away from global centralized platforms offered by large for-profit or non-profit global players.","title":"Story"},{"location":"Home/#motivation","text":"Digital tools to support team work in the realm of knowledge co-creation, be it for journalism or for any other type of collaborative research, are global centralized platforms, reinforcing world inequalities and leading a wave of global digital colonization. They become governance tools and contributors who depend on them end up being surveilled, controlled and misused by the owners of such digital infrastructures. Currently there is no one-stop shop, free and open source, to offer such an infrastructure.","title":"Motivation"},{"location":"Home/#current-features","text":"Liquid is a self-hosted knowledge production platform, allowing users full control over their data. Currently, the Liquid bundle let\u2019s you index, OCR & search, tagg, build wikis, chat, share files, collaborate on pads and annotations in a self-hosted environment behind a 2FA layer. It\u2019s scalable from cheap hardware up to enterprise grade environments. Liquid integrates already established and easy to use apps, allowing for a seamless, collaborative workflow. Currently packaged applications: * Index and Search: Hoover, multi-faceted search technology, creating a bridge between all the other apps * Wiki: Dokuwiki * Chat: Rocket.chat * Share files: Nextcloud * Pads: CodiMD","title":"Current Features"},{"location":"Home/#future","text":"The current teamwork infrastructures are displacing all individuals towards U.S. owned global clouds (Microsoft Teams, Atlassian, Zoom). Built-in limitations of the centralized platforms will hit more walls than the Orwellian surveillance or censorship capabilities, the cascading global outages of Google , Slack , Twitter , GitHub , FaceBook or the data-centers on fire . The roll out of changes in legislation will hit the platform-based economy: GDPR and enforced transportability of data; monetized contributors treated as employees and monetization by force of free knowledge exchanges reigned in . Independence from global digital colonization will become a non-negotiable value. In the realm of knowledge co-creation, groups of people will want to start self determining their digital lives and renegotiate the basis of collaborations across institutions. The first step is to have no dependency on the digital infrastructures they use, their workflows, their ownership and their business models and be the only ones who can decide how to govern their groups and interactions and how and if to monetize such interactions. Liquid is here to foster independent knowledge co-creation, be it for journalism, activism, academia or in-between and beyond.","title":"Future"},{"location":"Home/#history","text":"Originally started by the Romanian Centre for Investigative Journalism, it was expanded for the use of EIC.network in a dozen projects by media in 20 countries , publishing thousands of stories in a dozen languages. How to make collections of data available for collaborative research outside of big institutions and expensive infrastructures and proprietary solutions ? Liquid was born out of this real need of cross-border investigative journalists in Eastern Europe to share in working groups the research on large collections of source documents (leaks, scraps, archives). 2012: First prototype of the idea involved collection of source documents talking to each-other . 2015: A second a totally different approach involved the creation of a collaborative search tool called Hoover . 2016: The search tool really took a production role in the context of the EIC network, responding to the need to shelter investigative work on leaked documents and protecting the whistleblower of Football Leaks . Soon enough it has matured into a reliable search tool, co-owned and co-managed by investigative journalists in more than a dozen European media. Even before facilitating more than 100 journalists to collaboratively search documents, there was the realisation that they would lack a place to exchange information and to co-create a knowledge base. That\u2019s how Liquid kicked off. Besides the indexing and searching of archives, the bundle added a shared knowledge base, chat, file sharing, pads and annotations, all wrapped up behind a 2FA for more secretive types of work. 2017: The prototype bundle won a Google innovation grant and started to be used in production. So far, the search tool Hoover or the entire Liquid bundle have been used by the following organizations:","title":"History"},{"location":"Home/#installation","text":"Follow the Installation page on setting up a working system.","title":"Installation"},{"location":"Home/#documentations","text":"For user documentation go to User Guide . For installation instructions and technical details go to Technical Overview .","title":"Documentations"},{"location":"Home/#contributing","text":"To make it better go to Contributing . Go here if you want to know what are we working on, each month. If you want to get in touch with us, send an email to candea [at] eic.network Liquid Investigations is Free Software under the MIT Licence.","title":"Contributing"},{"location":"Installation/","text":"First make sure your system meets the Hardware requirements . Checkout cluster . We recommend you check out the repo as /opt/cluster , the rest of the wiki assumes this path. sudo mkdir /opt/cluster sudo chown $(whoami) /opt/cluster cd /opt git clone https://github.com/liquidinvestigations/cluster.git Follow the instructions in the Readme . Checkout node . We recommend you check out the repo as /opt/node , the rest of the wiki assumes this path. sudo mkdir /opt/node sudo chown $(whoami) /opt/node cd /opt git clone https://github.com/liquidinvestigations/node.git Install node following the instructions in the Readme Go to User Guide for instructions on creating users and granting access. For development tips, go to Development . Follow the Maintenance page on how to keep the system up to date.","title":"Installation"},{"location":"Liquid-Investigations-Development-First-Steps/","text":"Development First Steps # Install Cluster # First you want to install the cluster following the instructions here. Install Node # Afterwards you should install node . The instructions can be found here . Debugging jobs # In case you are running into any errors while setting up node and cluster , you can check consul ( http://10.66.60.1:8500/ui/dc1/services ) and nomad ( http://10.66.60.1:4646/ui/jobs ) for logs or error messages. In nomad you can click on the jobs name or ID following the links until you reach a page, where you can see the logs. Set up UI for local development # You might want to work on the Hoover UI, so you can set it up for local development as explained here . Local Development # See Development Readme for instructions on how to mount the repos locally and set everything up for local development. Git Workflow # You want to create a feature-branch for everything you are working on. Once you need someone to review your work, push it to the remote repository, open a pull request and ask for review. Working on Hoover Snoop # If you are working on Snoop and want to debug running tasks or have a look at the databases, you can visit http://10.66.60.1:9990/snoop/admin/_default/ (the IP adress depends on what you specified while setting up cluster ). On the Snoop admin page you can see all the tasks and error messages appear there as well. Just choose a collection and go to Tasks for a list of tasks or Task Stats for an overview. Debugging in the shell # To debug tasks inside a shell you can use ./liquid shell hoover-workers:snoop-workers ./manage.py retrytask testdata 666 --fg which will run the task in the foreground. Exploring the databases # To explore the databases you can enter ./liquid shell hoover-deps:snoop-pg psql -U snoop -d collection_testdata and then use SQL. Enter \\h for a list of SQL commands or help for a list of psql commands. Mange collections # See Hoover Readme for the insctructions on how to manage collections in hoover.","title":"Development First Steps #"},{"location":"Liquid-Investigations-Development-First-Steps/#development-first-steps","text":"","title":"Development First Steps"},{"location":"Liquid-Investigations-Development-First-Steps/#install-cluster","text":"First you want to install the cluster following the instructions here.","title":"Install Cluster"},{"location":"Liquid-Investigations-Development-First-Steps/#install-node","text":"Afterwards you should install node . The instructions can be found here .","title":"Install Node"},{"location":"Liquid-Investigations-Development-First-Steps/#debugging-jobs","text":"In case you are running into any errors while setting up node and cluster , you can check consul ( http://10.66.60.1:8500/ui/dc1/services ) and nomad ( http://10.66.60.1:4646/ui/jobs ) for logs or error messages. In nomad you can click on the jobs name or ID following the links until you reach a page, where you can see the logs.","title":"Debugging jobs"},{"location":"Liquid-Investigations-Development-First-Steps/#set-up-ui-for-local-development","text":"You might want to work on the Hoover UI, so you can set it up for local development as explained here .","title":"Set up UI for local development"},{"location":"Liquid-Investigations-Development-First-Steps/#local-development","text":"See Development Readme for instructions on how to mount the repos locally and set everything up for local development.","title":"Local Development"},{"location":"Liquid-Investigations-Development-First-Steps/#git-workflow","text":"You want to create a feature-branch for everything you are working on. Once you need someone to review your work, push it to the remote repository, open a pull request and ask for review.","title":"Git Workflow"},{"location":"Liquid-Investigations-Development-First-Steps/#working-on-hoover-snoop","text":"If you are working on Snoop and want to debug running tasks or have a look at the databases, you can visit http://10.66.60.1:9990/snoop/admin/_default/ (the IP adress depends on what you specified while setting up cluster ). On the Snoop admin page you can see all the tasks and error messages appear there as well. Just choose a collection and go to Tasks for a list of tasks or Task Stats for an overview.","title":"Working on Hoover Snoop"},{"location":"Liquid-Investigations-Development-First-Steps/#debugging-in-the-shell","text":"To debug tasks inside a shell you can use ./liquid shell hoover-workers:snoop-workers ./manage.py retrytask testdata 666 --fg which will run the task in the foreground.","title":"Debugging in the shell"},{"location":"Liquid-Investigations-Development-First-Steps/#exploring-the-databases","text":"To explore the databases you can enter ./liquid shell hoover-deps:snoop-pg psql -U snoop -d collection_testdata and then use SQL. Enter \\h for a list of SQL commands or help for a list of psql commands.","title":"Exploring the databases"},{"location":"Liquid-Investigations-Development-First-Steps/#mange-collections","text":"See Hoover Readme for the insctructions on how to manage collections in hoover.","title":"Mange collections"},{"location":"Maintenance/","text":"Upgrades # At some point after installing, you'll want to upgrade to a newer version of the Liquid bundle. Watch out for breaking changes in the configuration by looking at the changelogs (tag messages) in: the node releases page the cluster releases page 1. Update the cluster to version X.X.X : # cd /opt/cluster git fetch -ap git checkout vX.X.X # check for new settings in `examples/cluster.ini` and add them to `cluster.ini` bin/docker.sh --rm --pull --image liquidinvestigations/cluster:X.X.X # wait for services to be ready docker exec cluster ./cluster.py wait 2. Update node to version Z.Z.Z : # cd /opt/node git fetch git checkout vZ.Z.Z # check for new settings in `examples/liquid.ini` and add them to `liquid.ini` ./liquid resources ./liquid deploy Shutting down # To shut down the bundle, stop the cluster container, with a generous timeout: docker stop -t 120 cluster If Nomad isn't configured to drain jobs (or the drain operation fails) you may also need to kill all containers it left behind: docker stop $(docker ps -qa) Clean reset # Some Nomad versions require clearing the server data for upgrades. In those cases it's best to clear the docker system images too, using the following command sequence. ./liquid halt docker stop -t 120 cluster docker stop $(docker ps -qa) docker system prune --all --force --volumes sudo rm -rf /opt/cluster/var/nomad ... and continue with deploying normally as described in the beginning of this article: cd /opt/cluster git fetch -ap git checkout vX.X.X bin/docker.sh --rm --pull --image liquidinvestigations/cluster:X.X.X docker exec cluster ./cluster.py wait cd /opt/node git fetch -ap git checkout vZ.Z.Z ./liquid resources ./liquid deploy Note: if the docker system prune --all --force --volumes command takes too long to finish, sudo systemctl restart docker and re-run it. Backup # run ./liquid backup [OPTIONS] $DIR to back up the system. Optional parameters to specify which parts of the system will be backed up: --no-apps : excludes app data from backup --no-collections : excludes collections from backup --no-pg : excludes collection databases from backup --no-es : excludes collection es snapshots from backup --no-blobs : excludes collection blobs ( B inary L arge OB jects) from backup --collection $NAME : backup specific collection When no optional parameter is given, the whole system will be backed up. Restore # Make sure a clean system is installed before starting with the restore process. Restoring apps: ./liquid restore-apps $DIR Restore collection: ./liquid restore-collection $DIR $NAME Restoring collections: ./liquid restore-all-collections $DIR Note: The collections have to be disabled in the liquid.ini to be restored. After the restore process is finished the collections have to be enabled in the liquid.ini again to be accessible. To finish the restore process run ./liquid deploy . Ex-/Import Accounts # To create a full data dump containing auth and otp data, use Django's dumpdata command like this: ./liquid shell liquid:core ./manage.py dumpdata auth otp_totp > users.json Restore this, maybe on a different machine, using the users.json file, copy it into the liquid:core container and run: docker cp users-json core-...:/app/users.json ./liquid shell liquid:core ./manage.py loaddata users.json rm users.json exit Changing domain name # After changing the upstream network configuration, you will also have to change the following: domain in liquid.ini change domain under volumes/nextcloud/nextcloud/config/config.php (it appears two times) Issues after domain change # Hypothesis # Bulk changing of annotation target URLs is not officially supported by upstream ( docs page ), so we use database-level replace to change the targets ourselves. To fix hypothesis configuration, run these commands after replacing NEW.DOMAIN.ORG and OLD.DOMAIN.COM with the new and domains you set in [liquid] liquid_domain . ./liquid shell hypothesis:hypothesis ./bin/hypothesis -- -- move-uri --old 'OLD.DOMAIN.COM' --new 'NEW.DOMAIN.COM' ./liquid dockerexec hypothesis-deps:pg pg_dump -U hypothesis hypothesis -C -c > h.sql sed -i.bak 's/OLD.DOMAIN.COM/NEW.DOMAIN.ORG/g' h.sql # stop the Hypothesis web service from the UI, then run: ./liquid dockerexec hypothesis-deps:pg dropdb hypothesis -U hypothesis echo \"create database hypothesis with owner = hypothesis\" | ./liquid shell hypothesis-deps:pg psql -U hypothesis -d postgres cat h.sql | ./liquid dockerexec hypothesis-deps:pg psql -U hypothesis The previous command doesn't replace the USER IDs, but our database script above does, so please run both. And restart hypothesis from the Nomad Web UI. After finishing the requests above, run: ./liquid shell hypothesis:hypothesis ./bin/hypothesis -- -- search reindex Rocketchat # Login with the auto-generated admin user and password and update all these settings by hand: - General > Site URL - OAuth2 > Liquid Take care in updating HTTP vs. HTTPS for your new domain. HTTPS certificates # HTTPS certificates are not automatically removed. See the Admin FAQ for more details. Other problems # Use the Admin FAQ for miscellaneous operating details and the Security page on how to keep a production system secure.","title":"Maintenance"},{"location":"Maintenance/#upgrades","text":"At some point after installing, you'll want to upgrade to a newer version of the Liquid bundle. Watch out for breaking changes in the configuration by looking at the changelogs (tag messages) in: the node releases page the cluster releases page","title":"Upgrades"},{"location":"Maintenance/#1-update-the-cluster-to-version-xxx","text":"cd /opt/cluster git fetch -ap git checkout vX.X.X # check for new settings in `examples/cluster.ini` and add them to `cluster.ini` bin/docker.sh --rm --pull --image liquidinvestigations/cluster:X.X.X # wait for services to be ready docker exec cluster ./cluster.py wait","title":"1. Update the cluster to version X.X.X:"},{"location":"Maintenance/#2-updatenode-to-version-zzz","text":"cd /opt/node git fetch git checkout vZ.Z.Z # check for new settings in `examples/liquid.ini` and add them to `liquid.ini` ./liquid resources ./liquid deploy","title":"2. Updatenode to version Z.Z.Z:"},{"location":"Maintenance/#shutting-down","text":"To shut down the bundle, stop the cluster container, with a generous timeout: docker stop -t 120 cluster If Nomad isn't configured to drain jobs (or the drain operation fails) you may also need to kill all containers it left behind: docker stop $(docker ps -qa)","title":"Shutting down"},{"location":"Maintenance/#clean-reset","text":"Some Nomad versions require clearing the server data for upgrades. In those cases it's best to clear the docker system images too, using the following command sequence. ./liquid halt docker stop -t 120 cluster docker stop $(docker ps -qa) docker system prune --all --force --volumes sudo rm -rf /opt/cluster/var/nomad ... and continue with deploying normally as described in the beginning of this article: cd /opt/cluster git fetch -ap git checkout vX.X.X bin/docker.sh --rm --pull --image liquidinvestigations/cluster:X.X.X docker exec cluster ./cluster.py wait cd /opt/node git fetch -ap git checkout vZ.Z.Z ./liquid resources ./liquid deploy Note: if the docker system prune --all --force --volumes command takes too long to finish, sudo systemctl restart docker and re-run it.","title":"Clean reset"},{"location":"Maintenance/#backup","text":"run ./liquid backup [OPTIONS] $DIR to back up the system. Optional parameters to specify which parts of the system will be backed up: --no-apps : excludes app data from backup --no-collections : excludes collections from backup --no-pg : excludes collection databases from backup --no-es : excludes collection es snapshots from backup --no-blobs : excludes collection blobs ( B inary L arge OB jects) from backup --collection $NAME : backup specific collection When no optional parameter is given, the whole system will be backed up.","title":"Backup"},{"location":"Maintenance/#restore","text":"Make sure a clean system is installed before starting with the restore process. Restoring apps: ./liquid restore-apps $DIR Restore collection: ./liquid restore-collection $DIR $NAME Restoring collections: ./liquid restore-all-collections $DIR Note: The collections have to be disabled in the liquid.ini to be restored. After the restore process is finished the collections have to be enabled in the liquid.ini again to be accessible. To finish the restore process run ./liquid deploy .","title":"Restore"},{"location":"Maintenance/#ex-import-accounts","text":"To create a full data dump containing auth and otp data, use Django's dumpdata command like this: ./liquid shell liquid:core ./manage.py dumpdata auth otp_totp > users.json Restore this, maybe on a different machine, using the users.json file, copy it into the liquid:core container and run: docker cp users-json core-...:/app/users.json ./liquid shell liquid:core ./manage.py loaddata users.json rm users.json exit","title":"Ex-/Import Accounts"},{"location":"Maintenance/#changing-domain-name","text":"After changing the upstream network configuration, you will also have to change the following: domain in liquid.ini change domain under volumes/nextcloud/nextcloud/config/config.php (it appears two times)","title":"Changing domain name"},{"location":"Maintenance/#issues-after-domain-change","text":"","title":"Issues after domain change"},{"location":"Maintenance/#hypothesis","text":"Bulk changing of annotation target URLs is not officially supported by upstream ( docs page ), so we use database-level replace to change the targets ourselves. To fix hypothesis configuration, run these commands after replacing NEW.DOMAIN.ORG and OLD.DOMAIN.COM with the new and domains you set in [liquid] liquid_domain . ./liquid shell hypothesis:hypothesis ./bin/hypothesis -- -- move-uri --old 'OLD.DOMAIN.COM' --new 'NEW.DOMAIN.COM' ./liquid dockerexec hypothesis-deps:pg pg_dump -U hypothesis hypothesis -C -c > h.sql sed -i.bak 's/OLD.DOMAIN.COM/NEW.DOMAIN.ORG/g' h.sql # stop the Hypothesis web service from the UI, then run: ./liquid dockerexec hypothesis-deps:pg dropdb hypothesis -U hypothesis echo \"create database hypothesis with owner = hypothesis\" | ./liquid shell hypothesis-deps:pg psql -U hypothesis -d postgres cat h.sql | ./liquid dockerexec hypothesis-deps:pg psql -U hypothesis The previous command doesn't replace the USER IDs, but our database script above does, so please run both. And restart hypothesis from the Nomad Web UI. After finishing the requests above, run: ./liquid shell hypothesis:hypothesis ./bin/hypothesis -- -- search reindex","title":"Hypothesis"},{"location":"Maintenance/#rocketchat","text":"Login with the auto-generated admin user and password and update all these settings by hand: - General > Site URL - OAuth2 > Liquid Take care in updating HTTP vs. HTTPS for your new domain.","title":"Rocketchat"},{"location":"Maintenance/#https-certificates","text":"HTTPS certificates are not automatically removed. See the Admin FAQ for more details.","title":"HTTPS certificates"},{"location":"Maintenance/#other-problems","text":"Use the Admin FAQ for miscellaneous operating details and the Security page on how to keep a production system secure.","title":"Other problems"},{"location":"Production-Checklist/","text":"Firewall # Firewall off all incoming connections except for destination ports HTTP (80), HTTPS (443), SSH (default 22). Configuration # TODO","title":"Production Checklist"},{"location":"Production-Checklist/#firewall","text":"Firewall off all incoming connections except for destination ports HTTP (80), HTTPS (443), SSH (default 22).","title":"Firewall"},{"location":"Production-Checklist/#configuration","text":"TODO","title":"Configuration"},{"location":"Security-Architecture/","text":"TODO #","title":"Security Architecture"},{"location":"Security-Architecture/#todo","text":"","title":"TODO"},{"location":"Security-Recommendations/","text":"Reporting Security Bugs # Please report all security-related bugs at rcij@riseup.net (pgp: 0x8234F8D4A624D9F4). Securing Production Servers # set up encrypted storage firewall off the Nomad network interface Enable HTTPS and ensure the certificates are valid Enable 2 factor authentication Enable auto logout Enable hoover rate limit Follow the Maintenance page on keeping the system up to date and run the latest security patches.","title":"Security Recommendations"},{"location":"Security-Recommendations/#reporting-security-bugs","text":"Please report all security-related bugs at rcij@riseup.net (pgp: 0x8234F8D4A624D9F4).","title":"Reporting Security Bugs"},{"location":"Security-Recommendations/#securing-production-servers","text":"set up encrypted storage firewall off the Nomad network interface Enable HTTPS and ensure the certificates are valid Enable 2 factor authentication Enable auto logout Enable hoover rate limit Follow the Maintenance page on keeping the system up to date and run the latest security patches.","title":"Securing Production Servers"},{"location":"Security/","text":"Security Recommendations # See Security Recommendations for securing a production system and dealing with security issues. Security Architecture # The Security Architecture describes the security model and implementation used in the project. Security Bugs # Please report all security-related bugs at rcij@riseup.net (pgp: 0x8234F8D4A624D9F4).","title":"Security"},{"location":"Security/#security-recommendations","text":"See Security Recommendations for securing a production system and dealing with security issues.","title":"Security Recommendations"},{"location":"Security/#security-architecture","text":"The Security Architecture describes the security model and implementation used in the project.","title":"Security Architecture"},{"location":"Security/#security-bugs","text":"Please report all security-related bugs at rcij@riseup.net (pgp: 0x8234F8D4A624D9F4).","title":"Security Bugs"},{"location":"Support/","text":"Slack Channel # TODO guest registration form GitHub Issues # TODO link to li/node","title":"Slack Channel"},{"location":"Support/#slack-channel","text":"TODO guest registration form","title":"Slack Channel"},{"location":"Support/#github-issues","text":"TODO link to li/node","title":"GitHub Issues"},{"location":"Technical-Overview/","text":"This guide describes the structure of the Liquid Investigations project and explains how to install it for development and production. It assumes a working knowledge of the Unix shell , Git , Docker and the HashiStack . Architecture Hardware requirements Installation Maintenance Development","title":"Technical Overview"},{"location":"User-Guide/","text":"This guide details how to use and administer a Liquid Investigations node. Additionally it offers users a broad overview of all the apps functionalities that are part of the liquid bundle. Non admin users should only concern themselves with the ' Users ' section below. For installation instructions go to Technical Overview . Users # User Guide: Overview User Guide: Login User Guide: Change Password User Guide: Manage 2FA Devices User Guide: Rocket.Chat User Guide: Nextcloud User Guide: Hoover User Guide: DokuWiki User Guide: Hypothesis User Guide: CodiMD User Guide: Wiki.js User Guide: Set-up Tor portable edition Administrators # Admin Guide: Onboarding Admin Guide: Manage Hoover collections Admin Guide: Permissions for Hoover collections Admin Guide: Wiki Permissions for Dokuwiki Admin Guide: Using Liquid as an Onion Service Admin Guide: Using Liquid on VPN Admin Guide: Using Liquid with WireGuard VPN and Tails Clients Admin Guide: FAQ","title":"User Guide"},{"location":"User-Guide/#users","text":"User Guide: Overview User Guide: Login User Guide: Change Password User Guide: Manage 2FA Devices User Guide: Rocket.Chat User Guide: Nextcloud User Guide: Hoover User Guide: DokuWiki User Guide: Hypothesis User Guide: CodiMD User Guide: Wiki.js User Guide: Set-up Tor portable edition","title":"Users"},{"location":"User-Guide/#administrators","text":"Admin Guide: Onboarding Admin Guide: Manage Hoover collections Admin Guide: Permissions for Hoover collections Admin Guide: Wiki Permissions for Dokuwiki Admin Guide: Using Liquid as an Onion Service Admin Guide: Using Liquid on VPN Admin Guide: Using Liquid with WireGuard VPN and Tails Clients Admin Guide: FAQ","title":"Administrators"},{"location":"User-Guide%3A-Change-Password/","text":"Open the Form # To change your password click the password button on the homepage. Enter new Password # After that enter your username, the current password and the new password. If you are using OTP-Authentication you should also enter a valid OTP-Token. Then just click the button to change the password and you are done!","title":"User Guide: Change Password"},{"location":"User-Guide%3A-Change-Password/#open-the-form","text":"To change your password click the password button on the homepage.","title":"Open the Form"},{"location":"User-Guide%3A-Change-Password/#enter-new-password","text":"After that enter your username, the current password and the new password. If you are using OTP-Authentication you should also enter a valid OTP-Token. Then just click the button to change the password and you are done!","title":"Enter new Password"},{"location":"User-Guide%3A-CodiMD/","text":"Details about CodiMD features can be found here: https://hackmd.io/c/codimd-documentation/%2Fs%2Fcodimd-documentation The CodiMD pad helps you take research or meeting notes, plan, brainstorm in real time with others. While you investigate a lead in a large collection of documents and have 100 more tabs opened, it\u2019s hard to keep track. Just click sign in via Liquid (the system will remember your Liquid login information) and hit the blue \u2018New Note\u2019 button to create a new pad. The history tab centralizes all your current pads. You can search pads by keywords or tags and can reorder the pads based on title or time created. When you\u2019re done, decide if you want to keep the note for yourself (private) or if you want to make it editable by the group (upper right corner). Sharing the url to an editable pad makes the pad the most collaborative place onLiquid Investigations, since content can be added by all users in real time (say during a meeting for all users to add meeting notes, or during a coordination meeting to organize tasks and assignments). Back to our detailed User Guide .","title":"User Guide: CodiMD"},{"location":"User-Guide%3A-DokuWiki/","text":"This is EIC\u2019s collaborative knowledge base that grows stronger with every EIC project.We organise the EIC wiki pages under directories (namespaces) named after the journalistic projects (e.g. Malta Files, Football Leaks etc). All of these have sub-directories named after the production stage (either info or confrontation or replies or drafts). Sitemap First thing, please consult the Sitemap (click on the Sitemap link on the upper right corner) for a complete list of our directories/projects. Search to see if there is other information available on the Wikis. Use the search box on the upper right corner. If there is, make a judgement as to whether your information needs a new standalone Wiki page or can be integrated into the existing Wiki page you found. If you want to collaborate under an existing project, you should choose the directory parent project and consult all the sub-wiki pages grouped under that namespace. Create a new directory If you want to start a new directory/project, please go to \u2018Create a New Page\u2019 bar in Root and add the name of your directory and related page (use the name of your investigative project, e.g. Nameoftheproject:infopage) and hit the \u2018Add page\u2019 button. Your new directory/project will be displayed in the Sitemap list (blue color). The page associated with it will also be displayed (green color). For example we have the project \u2018wassergate\u2019 that has 3 sub-directories: Annotations that signal interesting findings will be centralized in the information subdirectory Before publication, a page containing confrontation questions will be added under the confrontation subdirectory During the pre-publication stage where journalists share their drafts, a drafts subdirectory will be created Eventually the finalized product will eventually land into the public domain;https://theblacksea.eu/stories/football-leaks/football-leaks-the-dirty-tricks-of-doyen-sports/ How to construct a Wiki page Use the \u2018Create a New Page\u2019 bar. Choose an existing directory or sub-directory to be the parent of your page (eg. projectname). Please don\u2019t create orphans! Once you click the Add page button, you will be promoted to also add content to the page and Save it. Check the Sitemap (just below the search box on the upper right corner) and see if your newly created page landed under the right directory. To delete a page or a directory, simply edit the page by clicking the pencil icon and remove all the content from the page body, and then hit Save. Move a page between directories If by accident the newly created page landed in an erroneous spot, go to the right side of your page and choose \u2018Rename Page\u2019. Change the names of the directories and subdirectories in the url. For instance the page \u2018wassergate_questions\u2019 was erroneously added under the drafts subdirectory. To move the page under confrontation (where it belongs), simply click on the \u2018wassergate_questions\u2019 page and go to the Rename button (on the right side of the page). Type in the correct URL and hit Rename. Your page will now show up under the right subdirectory. Wiki pages labels and names You should name your wiki exactly what it is: a wedding list of someone, a deal of somebody, a structure of a company, a bio for a person etc. That should be reflected in the wiki title. For inspiration go read some wikipedia articles. Each project starts with a project name (eg. Wassergate) and an information directory (wassergate:information) that has a pitch page (description to convince others to join the project). Confrontation pages should be created after the drafts are done. The confrontation pages should list ALL people and institutions that need to be confronted with written questions before the story is ready. In confrontation pages, each EIC journo should have the time to add his/her questions. Replies pages are mirrors of confrontation pages, only they include the exact copy/paste of the questions send, in the original language they were sent, as well as the replies, with the time stamp, email used etc How to edit a Wiki page For the syntax used to obtain headers, bold, colours etc, please look at the syntax page: https://www.dokuwiki.org/wiki:syntax Tips for keeping a clean wiki Write at the top of the Wiki who is the owner of that Wiki and their contact details with the name [OWNER:]. Underneath this, write the names of all the people who have contributed to writing this Wiki with their contact details, with the name [CONTRIBUTOR:] Clearly label the provenance of any information in a URL link at the beginning of every relevant paragraph. Using ((text)) you put that text in a footnote. Clearly label whether information is from a source with [SOURCE:] at the beginning of every relevant paragraph. Clearly label whether information is speculation [SPECULATION:] at the beginning of every relevant paragraph. If you want to write a comment on the Wiki, or dispute a piece of information, or believe something is unclear, use annotations - select that sentence and annotate under the specific group or in public (e.g this does not make sense) The end resulting information wiki page should be a clear sourced information page that can be fact checked by anybody who reads it for the first time. Access Control, Group Management, Permissions # See this page for administering the access control, permissions and group management here: Admin Guide: Wiki Permissions for Dokuwiki . Back to our detailed User Guide .","title":"User Guide: DokuWiki"},{"location":"User-Guide%3A-DokuWiki/#access-control-group-management-permissions","text":"See this page for administering the access control, permissions and group management here: Admin Guide: Wiki Permissions for Dokuwiki . Back to our detailed User Guide .","title":"Access Control, Group Management, Permissions"},{"location":"User-Guide%3A-Hoover/","text":"This multi-faceted search technology is the heartbeat of the Liquid Investigations bundle, creating a bridge between all the other apps. Hoover allows you to detect and analyze information in all shapes and sizes. The Hoover UI is fairly intuitive and all its content is divided into 3 main panels: The left side column comprises the data collections and search filters, The middle column displays the search results and The right hand column shows the preview of a selected search result. This triptych-like display is meant to increase visual appeal and support users that are constantly working with large loads of data. Data collections # When landing on the Hoover home page, you will begin by sifting through the data collections (left side panel) that were made available for you. If you feel you need to see more collections, please ask your coordinator for extra permissions. All documents uploaded via Nextcloud will be available for search in Hoover. They will be indexed after upload (and OCR\u2019d) under a collection called \u2018Uploads\u2019 . Filters # Filters are made available when checking a collection from the left hand panel. The first set of filters is placed on the middle panel (where the search results will be displayed) and refers to: Date filters (i.e the dates certain documents were modified or created); here you will be able to select the date interval of your choice Number of results per page filter Filter referring to the order of search results (relevant, old, new, size, word count); To enable these, just click on the blue dot with 3 white lines. More filters are available on the left side panel , below the data collections. These filters refer to tags (pubic and private), date range, filetype, language, email domain, location, file size, OCR and Image AI. Tags # Tags are a good way to mark what documents were already viewed or investigated. They further qualify the document and allow the user to view in an instant what the key takeaway is. Public tags are indexed and visible to everyone. Private tags allow the solo investigator to mark his own findings (are only available to the one user that made them). To apply a public or a private tag, click on the search result that you are investigating (middle panel). A preview window will be opened on the right hand side. There you can go to the Tags tab type the tag of your choice and click Enter. You can also choose to make your tag visible or keep it private. All of these filters give the user the option to ADD or FILTER OUT the enabled criterias. For instance you can refine your search by applying the \u2018carrot-based-food\u2019 public tag or by specifically filter it out. AND NOT Other filters # Another example: You can search through documents stemming from a specific email domain (AND) or you can filter out specific email domains that bring too much noise in the list of results , like newsletters or spam emails (NOT). Searches # Start searching by selecting the collections of your choice and by typing a keyword or a search query that might be relevant for your search and hitting enter. To refine your searches, please consult this useful list of search operators and search tips: https://github.com/liquidinvestigations/hoover-search/wiki/Guide-to-search-terms. If you want to search for everything just type * in the search query box. Batch searches are also possible. The batch search button is available under the right end of the search bar. Batch search queries need to be typed one per line (list format). Your batch search results will be also displayed in list format. Search results # A list of search results will be displayed in the middle panel. Clicking on each result, a preview of the document is made available on the right side column. There are certain hotkeys that allow the user a fast navigation between the various search results. Press \u2018Command\u2019 and * J- Navigate down the search results list * K- Navigate up the search results list * C- Share a document with others, by copying it\u2019s unique identifier (MD5) onto the clipboard; you only need to hit CTRL V to paste them in the chat, into a wiki page or into a pad for research notes (i.e bcb0b33b01977cdd8c1a5306bb3a7bfd /data/Nextcloud Manual.pdf) * O- Select a preview to open in a new tab Result preview # The \u2018Preview\u2019 mode shows the text, the tags and meta information of a certain document. Here, the user can also mark the document as interesting, or starred, or trash (top right corner). This will automatically create a public tag on the document. The META tab shows you additional information about the investigated document (including the MD5 unique identifier). The Meta info is not printable or downloadable. From the document 'Previewer' you can print , download or open the document in a new tab . To be able to download a document you need to adjust your Chrome browser settings Go to Chrome Settings > Security and Privacy Site Settings > Scroll down to Additional Content Settings PDF Documents > Download PDFs To avoid any security breaches, the users are not able to print or to download the META information (MD5 and the path) of a document. But even just text print-outs could be tricky, so please read the following article carefully: https://www.bbc.com/future/article/20170607-why-printers-add-secret-tracking-dots. Open document in a new tab # Once you open a document in a new tab, you can navigate across the document by clicking the up/down arrows (which collapse or expand the desired doc modules) - especially in the case of email documents who could have multiple files attached. File system view # The file system view allows users to easily navigate between various data folders. To get to this view, click on the 'Open in new tab' icon, placed on the right side of the desired search result. Once the document is opened in a new tab, click on the 'Locations' link. A tree view of the respective document will be shown at the top of the 'Locations' link. Back to our detailed User Guide .","title":"User Guide: Hoover"},{"location":"User-Guide%3A-Hoover/#data-collections","text":"When landing on the Hoover home page, you will begin by sifting through the data collections (left side panel) that were made available for you. If you feel you need to see more collections, please ask your coordinator for extra permissions. All documents uploaded via Nextcloud will be available for search in Hoover. They will be indexed after upload (and OCR\u2019d) under a collection called \u2018Uploads\u2019 .","title":"Data collections"},{"location":"User-Guide%3A-Hoover/#filters","text":"Filters are made available when checking a collection from the left hand panel. The first set of filters is placed on the middle panel (where the search results will be displayed) and refers to: Date filters (i.e the dates certain documents were modified or created); here you will be able to select the date interval of your choice Number of results per page filter Filter referring to the order of search results (relevant, old, new, size, word count); To enable these, just click on the blue dot with 3 white lines. More filters are available on the left side panel , below the data collections. These filters refer to tags (pubic and private), date range, filetype, language, email domain, location, file size, OCR and Image AI.","title":"Filters"},{"location":"User-Guide%3A-Hoover/#tags","text":"Tags are a good way to mark what documents were already viewed or investigated. They further qualify the document and allow the user to view in an instant what the key takeaway is. Public tags are indexed and visible to everyone. Private tags allow the solo investigator to mark his own findings (are only available to the one user that made them). To apply a public or a private tag, click on the search result that you are investigating (middle panel). A preview window will be opened on the right hand side. There you can go to the Tags tab type the tag of your choice and click Enter. You can also choose to make your tag visible or keep it private. All of these filters give the user the option to ADD or FILTER OUT the enabled criterias. For instance you can refine your search by applying the \u2018carrot-based-food\u2019 public tag or by specifically filter it out. AND NOT","title":"Tags"},{"location":"User-Guide%3A-Hoover/#other-filters","text":"Another example: You can search through documents stemming from a specific email domain (AND) or you can filter out specific email domains that bring too much noise in the list of results , like newsletters or spam emails (NOT).","title":"Other filters"},{"location":"User-Guide%3A-Hoover/#searches","text":"Start searching by selecting the collections of your choice and by typing a keyword or a search query that might be relevant for your search and hitting enter. To refine your searches, please consult this useful list of search operators and search tips: https://github.com/liquidinvestigations/hoover-search/wiki/Guide-to-search-terms. If you want to search for everything just type * in the search query box. Batch searches are also possible. The batch search button is available under the right end of the search bar. Batch search queries need to be typed one per line (list format). Your batch search results will be also displayed in list format.","title":"Searches"},{"location":"User-Guide%3A-Hoover/#search-results","text":"A list of search results will be displayed in the middle panel. Clicking on each result, a preview of the document is made available on the right side column. There are certain hotkeys that allow the user a fast navigation between the various search results. Press \u2018Command\u2019 and * J- Navigate down the search results list * K- Navigate up the search results list * C- Share a document with others, by copying it\u2019s unique identifier (MD5) onto the clipboard; you only need to hit CTRL V to paste them in the chat, into a wiki page or into a pad for research notes (i.e bcb0b33b01977cdd8c1a5306bb3a7bfd /data/Nextcloud Manual.pdf) * O- Select a preview to open in a new tab","title":"Search results"},{"location":"User-Guide%3A-Hoover/#result-preview","text":"The \u2018Preview\u2019 mode shows the text, the tags and meta information of a certain document. Here, the user can also mark the document as interesting, or starred, or trash (top right corner). This will automatically create a public tag on the document. The META tab shows you additional information about the investigated document (including the MD5 unique identifier). The Meta info is not printable or downloadable. From the document 'Previewer' you can print , download or open the document in a new tab . To be able to download a document you need to adjust your Chrome browser settings Go to Chrome Settings > Security and Privacy Site Settings > Scroll down to Additional Content Settings PDF Documents > Download PDFs To avoid any security breaches, the users are not able to print or to download the META information (MD5 and the path) of a document. But even just text print-outs could be tricky, so please read the following article carefully: https://www.bbc.com/future/article/20170607-why-printers-add-secret-tracking-dots.","title":"Result preview"},{"location":"User-Guide%3A-Hoover/#open-document-in-a-new-tab","text":"Once you open a document in a new tab, you can navigate across the document by clicking the up/down arrows (which collapse or expand the desired doc modules) - especially in the case of email documents who could have multiple files attached.","title":"Open document in a new tab"},{"location":"User-Guide%3A-Hoover/#file-system-view","text":"The file system view allows users to easily navigate between various data folders. To get to this view, click on the 'Open in new tab' icon, placed on the right side of the desired search result. Once the document is opened in a new tab, click on the 'Locations' link. A tree view of the respective document will be shown at the top of the 'Locations' link. Back to our detailed User Guide .","title":"File system view"},{"location":"User-Guide%3A-Hypothesis/","text":"A guide to Hypothesis is available here: https://web.hypothes.is/help/. Some stuff that you will see on the guide won't work. Assume is by design. Anytime you navigate Hoover documents annotations appear as a slim column-bar on your right side. Please check out the Hoover section that deals with annotations. Below are some tips for using the Hypothes.is digital annotations While performing your search operations via Hoover, you can use annotations to bookmark interesting documents, or simply mark read documents. Or you can translate paragraphs, you can highlight text and you can add notes on things to follow-up, to check further or connect information that is available somewhere else (in a wiki, in a folder, or outside the system). The prerequisite for using annotations is for the user to already have Hypothes.is account. Enlarge the column and you\u2019ll see if you are logged in (if not, click login and the system will automatically log you in based on your Liquid credentials). At first you can annotate for you only or under the Public (that is not the outside public, but only the users on your system). Then you can create Groups (for specific topics or projects or for specific stories). You can share access to these groups and you can get access to existing groups. So you end up having multiple options when making an annotation: for your eyes only, for the entire public, for given stories or topics or projects. Unless your annotations are for your eyes only, they will be available for anybody who will step onto the same document you annotated. Your collaborators can respond to your annotations, you can edit them or you can respond yourself by annotating documents in several different places and then cross-link them through annotations. You can share your annotations in the chat or drop them in a wiki page. You can later search for keywords used in annotations or simply see all annotations that have been made. And you can do so by searching in specific groups, or on specific urls (say urls related to one specific collection in Hoover) or you can search by tags (if tags where used when annotations were posted). Back to our detailed User Guide .","title":"User Guide: Hypothesis"},{"location":"User-Guide%3A-Login/","text":"Getting on board with Liquid Investigations # Install an Authenticator on your mobile # Enable Automatic Time Sync settings on phone # Before installing an authenticator, please enable the automatic time sync on your mobile phone or other device. Here is how you can do it on your Iphone: Go to Settings > General > Date & Time > Set Automatically Here is how you do it on your MAC OS: Open the Date & Time Preferences and check the the 'set time zone automatically using current location' box Additionally please check your time settings by opening https://time.is/ on the device that has the authenticator and see the text \"Your time is exact!\" and error under 5 seconds Install an Authenticator on your phone # As first time users logging into the Liquid Investigations platform, you should enable a 2FA authenticator on your mobile device! You will need this authenticator to scan a QR code that will help you login into your Liquid Investigations account. Our recommendations are: The Google Authenticator app: https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=en&gl=US OR The Duo Mobile app: https://play.google.com/store/apps/details?id=com.duosecurity.duomobile&hl=en&gl=US Install Signal Desktop on laptop: # https://signal.org/en/download/ Disable Signal Link Previews # Make sure to disable link previews in both Signal Desktop and also in Signal Mobile! https://support.signal.org/hc/en-us/articles/360022474332-Link-Previews Invite Link # As a new user, you will get your Liquid investigations account credentials (username and one time onboarding URL) via Signal desktop chat. This URL is time sensitive, so please make sure to set up your account in 30 minutes from the moment it was generated. Otherwise the link will expire. The URL is single-use, meaning that once the link is opened, it cannot be used in other browsers, and must be used in that particular browser, so it's advisable not to click on it unless ready to use it to set up the Liquid account. Copy/Paste to Open Link in Private Browsing/Incognito. Open Link and Create Account # Clicking on the URL will take you to the form below. You will maintain the created username but should create your own password (make sure you input strong passwords, combining numbers and letters). Next, you will be asked to scan a QR code with your 2FA mobile app (Google Authenticator or Duo Mobile). Once you do so, the 2FA app will generate an OTP token. To finalize the account creation process you will then be prompted to also enter your 6 digit OTP authentication token into the OTP form field and press the Login button. You will receive a confirmation that your verification was successful. Once you hit \u2018Home\u2019 you will be able to access the Liquid Investigations apps bundle. Login # Login by typing your username, password and TOTP token (if two-factor authentication is enabled). After a predefined time (by default 12 hours, configurable, can be disabled) the system will automatically log you out. Back to our detailed User Guide .","title":"Getting on board with Liquid Investigations"},{"location":"User-Guide%3A-Login/#getting-on-board-with-liquid-investigations","text":"","title":"Getting on board with Liquid Investigations"},{"location":"User-Guide%3A-Login/#install-an-authenticator-on-your-mobile","text":"","title":"Install an Authenticator on your mobile"},{"location":"User-Guide%3A-Login/#enable-automatic-time-sync-settings-on-phone","text":"Before installing an authenticator, please enable the automatic time sync on your mobile phone or other device. Here is how you can do it on your Iphone: Go to Settings > General > Date & Time > Set Automatically Here is how you do it on your MAC OS: Open the Date & Time Preferences and check the the 'set time zone automatically using current location' box Additionally please check your time settings by opening https://time.is/ on the device that has the authenticator and see the text \"Your time is exact!\" and error under 5 seconds","title":"Enable Automatic Time Sync settings on phone"},{"location":"User-Guide%3A-Login/#install-an-authenticator-on-your-phone","text":"As first time users logging into the Liquid Investigations platform, you should enable a 2FA authenticator on your mobile device! You will need this authenticator to scan a QR code that will help you login into your Liquid Investigations account. Our recommendations are: The Google Authenticator app: https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=en&gl=US OR The Duo Mobile app: https://play.google.com/store/apps/details?id=com.duosecurity.duomobile&hl=en&gl=US","title":"Install an Authenticator on your phone"},{"location":"User-Guide%3A-Login/#install-signal-desktop-on-laptop","text":"https://signal.org/en/download/","title":"Install Signal Desktop on laptop:"},{"location":"User-Guide%3A-Login/#disable-signal-link-previews","text":"Make sure to disable link previews in both Signal Desktop and also in Signal Mobile! https://support.signal.org/hc/en-us/articles/360022474332-Link-Previews","title":"Disable Signal Link Previews"},{"location":"User-Guide%3A-Login/#invite-link","text":"As a new user, you will get your Liquid investigations account credentials (username and one time onboarding URL) via Signal desktop chat. This URL is time sensitive, so please make sure to set up your account in 30 minutes from the moment it was generated. Otherwise the link will expire. The URL is single-use, meaning that once the link is opened, it cannot be used in other browsers, and must be used in that particular browser, so it's advisable not to click on it unless ready to use it to set up the Liquid account. Copy/Paste to Open Link in Private Browsing/Incognito.","title":"Invite Link"},{"location":"User-Guide%3A-Login/#open-link-and-create-account","text":"Clicking on the URL will take you to the form below. You will maintain the created username but should create your own password (make sure you input strong passwords, combining numbers and letters). Next, you will be asked to scan a QR code with your 2FA mobile app (Google Authenticator or Duo Mobile). Once you do so, the 2FA app will generate an OTP token. To finalize the account creation process you will then be prompted to also enter your 6 digit OTP authentication token into the OTP form field and press the Login button. You will receive a confirmation that your verification was successful. Once you hit \u2018Home\u2019 you will be able to access the Liquid Investigations apps bundle.","title":"Open Link and Create Account"},{"location":"User-Guide%3A-Login/#login","text":"Login by typing your username, password and TOTP token (if two-factor authentication is enabled). After a predefined time (by default 12 hours, configurable, can be disabled) the system will automatically log you out. Back to our detailed User Guide .","title":"Login"},{"location":"User-Guide%3A-Manage-2FA-Devices/","text":"2FA device settings # You can manage the devices that you use for 2-Factor-Authentication with the liquid-bundle. For example you might want to change devices, if you get a new mobile phone or add a second device to authenticate with. To open the settings click the \"2FA settings\" button on the homepage. You will see a list of devices that are currently registered. The device named like your username is the first device you registered when logging in. You have three options to manage your devices. Change device # Click the change device button. Then enter your current password, a valid OTP-Token (form one of your registered devices) and a name for the new device. After clicking change, you will be redirected and a new QR code is presented to you. Use this QR-Code to register a new Account in your OTP-App on the new device. After that enter a token from the new device to complete the change. Be careful: This will remove all devices from the list, but the new one. All other devices won't work for authentication afterwards. Add new device # Click the add new device button. Enter your password, a valid OTP token and a name for your new device. After clicking \"Add\" you will be redirected to a QR-Code again, that you can use to register the account in your App. If you look at the 2FA settings again, after adding a new device you should see two devices in the list. Remove device # Click the \"Remove devices\" button. Enter your password and a valid OTP-Token from any of your devices. Be careful: All the devices but the one you use to create that OTP-token are deleted from the list and won't work afterwards!","title":"2FA device settings"},{"location":"User-Guide%3A-Manage-2FA-Devices/#2fa-device-settings","text":"You can manage the devices that you use for 2-Factor-Authentication with the liquid-bundle. For example you might want to change devices, if you get a new mobile phone or add a second device to authenticate with. To open the settings click the \"2FA settings\" button on the homepage. You will see a list of devices that are currently registered. The device named like your username is the first device you registered when logging in. You have three options to manage your devices.","title":"2FA device settings"},{"location":"User-Guide%3A-Manage-2FA-Devices/#change-device","text":"Click the change device button. Then enter your current password, a valid OTP-Token (form one of your registered devices) and a name for the new device. After clicking change, you will be redirected and a new QR code is presented to you. Use this QR-Code to register a new Account in your OTP-App on the new device. After that enter a token from the new device to complete the change. Be careful: This will remove all devices from the list, but the new one. All other devices won't work for authentication afterwards.","title":"Change device"},{"location":"User-Guide%3A-Manage-2FA-Devices/#add-new-device","text":"Click the add new device button. Enter your password, a valid OTP token and a name for your new device. After clicking \"Add\" you will be redirected to a QR-Code again, that you can use to register the account in your App. If you look at the 2FA settings again, after adding a new device you should see two devices in the list.","title":"Add new device"},{"location":"User-Guide%3A-Manage-2FA-Devices/#remove-device","text":"Click the \"Remove devices\" button. Enter your password and a valid OTP-Token from any of your devices. Be careful: All the devices but the one you use to create that OTP-token are deleted from the list and won't work afterwards!","title":"Remove device"},{"location":"User-Guide%3A-Nextcloud/","text":"An extensive guide to Nextcloud is available here: https://docs.nextcloud.com/server/latest/user_manual/en/ Most stuff that you will see on the guide won't work. Assume is by design. Liquid investigations uses two ways to share documents: * Via Hoover (this requires the assistance of your sysadmin, who will index and make a collection of documents sharable for you - https://github.com/liquidinvestigations/docs/wiki; This way of sharing documents is ideal for larger documents collections. * Via Nextcloud Nextcloud allows you to drag and drop the documents you want to share (without the help of a sysadmin). This way of sharing documents is ideal for small document collections that can be managed manually. To share documents via Nextcloud, you can use the search box (upper right corner) to find a folder where you want to bring your documents. Or you can create your own folder by hitting the + sign and upload the files of your choice into your own folder. Each folder has an action menu: Move is to relocate the document within the system; you can rename, download or delete the folder (in case of deleting, think twice, because the folder will not be available anymore for the entire group of people working on your Liquid Investigations). Clicking on the 3dots icon next to a file, will open new actions and options (details is for a shortcut url to share with others) OtherLiquid Investigations apps do have file sharing capabilities but we\u2019ve chosen to disable them to avoid any confusion. We prefer you use Nextcloud because documents can stay archived longer (than other apps) and they are indexed and OCRd (by language - link to OCR language folder) as well as searchable. We use Nextcloud to centralize our contact list. Since you are already here you may want to add your contact information, or see the contacts of the other participants in yourLiquid Investigations. Back to our detailed User Guide .","title":"User Guide: Nextcloud"},{"location":"User-Guide%3A-Overview/","text":"Overview # Welcome to Liquid Investigations! # The main goal of the liquid software is to facilitate secure online collaborations for any interest group and professional community that handle information with different degrees of sensitivity. Liquid Investigations is EIC.network\u2019s in-house free, open-source tools bundle. It comprises indexing, OCRing & search, wiki, chat, file-sync, pad and annotations capabilities, in a self-hosted environment behind a 2FA layer, promoting secure information-exchange and collaborative knowledge production. Please note that this is a living document evolving at the same time with our technical advancements. Why Liquid Investigations? # CONTROL: Self-hosted knowledge production platform, allowing users full control over their data EFFICIENCY: Integrates already established and easy to use apps, allowing for a seamless, collaborative workflow; the heartbeat of the Liquid Investigations technology is \u2018Hoover\u2019, it\u2019s multi-faceted search technology, creating a bridge between all the other apps. COMMUNITY: LI serves as the underlying technology for a wide reaching journalistic network, enabling research and content production for a large pool of professionals. All technological advancements are directly informed by its users. AFFORDABILITY: Liquid Investigations aims to enrich the public domain with a complete collaborative infrastructure serving professional groups and lowering altogether the cost barriers for collaborative investigations What is the usual workflow between all the Liquid Investigations apps? # Below is a quick explanatory graph, of all the liquid apps and how they interact with each other. Once you find yourself on the Liquid Investigations homepage, the best way to start navigating the system is to start with the chat app Rocket.Chat . This way you will immediately connect with your fellow collaborators, who may also lend a hand and tell you a bit about how the system works for them. Click the RocketChat link on the Liquid homepage, and follow the blue line telling you to \u2018click here to get in\u2019 and connect to the other users. If you want to upload and share documentation, please return to the Liquid homepage and click on Nextcloud , our file sharing app. All the documents you upload in Nextcloud are indexed, and OCRed (if needed), and made searchable via Hoover, our search app, under the 'Uploads' collection. Besides uploading source documents, we use Nextcloud to centralize contacts for all the users in the system. Use the Hoover search app for all other searches and ask your coordinator for permissions if you feel you deserve to see more collections. Activate your annotation powers and leave a mark on documents and findings with Hypothesis . If you need to take notes for yourself or for a team, use our real time notepad CodiMD . Engage with others and keep an overview on search practices and liquid projects via Dokuwiki . This is our knowledge base and you can certainly contribute to it! Otherwise toggle back and forth between our liquid apps by clicking the liquid logo or the text \u2019Liquid at work\u2019. Back to our detailed User Guide for more useful info.","title":"Overview"},{"location":"User-Guide%3A-Overview/#overview","text":"","title":"Overview"},{"location":"User-Guide%3A-Overview/#welcome-to-liquid-investigations","text":"The main goal of the liquid software is to facilitate secure online collaborations for any interest group and professional community that handle information with different degrees of sensitivity. Liquid Investigations is EIC.network\u2019s in-house free, open-source tools bundle. It comprises indexing, OCRing & search, wiki, chat, file-sync, pad and annotations capabilities, in a self-hosted environment behind a 2FA layer, promoting secure information-exchange and collaborative knowledge production. Please note that this is a living document evolving at the same time with our technical advancements.","title":"Welcome to Liquid Investigations!"},{"location":"User-Guide%3A-Overview/#why-liquid-investigations","text":"CONTROL: Self-hosted knowledge production platform, allowing users full control over their data EFFICIENCY: Integrates already established and easy to use apps, allowing for a seamless, collaborative workflow; the heartbeat of the Liquid Investigations technology is \u2018Hoover\u2019, it\u2019s multi-faceted search technology, creating a bridge between all the other apps. COMMUNITY: LI serves as the underlying technology for a wide reaching journalistic network, enabling research and content production for a large pool of professionals. All technological advancements are directly informed by its users. AFFORDABILITY: Liquid Investigations aims to enrich the public domain with a complete collaborative infrastructure serving professional groups and lowering altogether the cost barriers for collaborative investigations","title":"Why Liquid Investigations?"},{"location":"User-Guide%3A-Overview/#what-is-the-usual-workflow-between-all-the-liquid-investigations-apps","text":"Below is a quick explanatory graph, of all the liquid apps and how they interact with each other. Once you find yourself on the Liquid Investigations homepage, the best way to start navigating the system is to start with the chat app Rocket.Chat . This way you will immediately connect with your fellow collaborators, who may also lend a hand and tell you a bit about how the system works for them. Click the RocketChat link on the Liquid homepage, and follow the blue line telling you to \u2018click here to get in\u2019 and connect to the other users. If you want to upload and share documentation, please return to the Liquid homepage and click on Nextcloud , our file sharing app. All the documents you upload in Nextcloud are indexed, and OCRed (if needed), and made searchable via Hoover, our search app, under the 'Uploads' collection. Besides uploading source documents, we use Nextcloud to centralize contacts for all the users in the system. Use the Hoover search app for all other searches and ask your coordinator for permissions if you feel you deserve to see more collections. Activate your annotation powers and leave a mark on documents and findings with Hypothesis . If you need to take notes for yourself or for a team, use our real time notepad CodiMD . Engage with others and keep an overview on search practices and liquid projects via Dokuwiki . This is our knowledge base and you can certainly contribute to it! Otherwise toggle back and forth between our liquid apps by clicking the liquid logo or the text \u2019Liquid at work\u2019. Back to our detailed User Guide for more useful info.","title":"What is the usual workflow between all the Liquid Investigations apps?"},{"location":"User-Guide%3A-Rocket.Chat/","text":"This is the place where the main communication between EIC journalists happens, so it\u2019s a great place to start. Your username is created automatically when you login to Liquid Investigations. A detailed guide to RocketChat is available here: https://rocket.chat/docs/user-guides/. Some stuff that you will see on the guide won't work. Assume is by design or let our dev people know. Channels/rooms # A deep-dive into channels can be found here: https://docs.rocket.chat/guides/user-guides/channels Basically the homepage will show you all publicly available channels/rooms (on left hand side). If you want to join any of them, just click on the channel/room of your choice and start announcing your presence by typing a message. You can reply to a message or people can reply to your message with another message, with a reaction, by starting a discussion or a thread. Just look for these options at the top right corner of the message. Private channels/rooms are locked. Only invited people can get in. They are not visible to the rest of the participants. They work exactly as the public channels. The various EIC channels/rooms are generally dedicated to topics to investigate, or to logistical exchanges (like maintenance, or sharing URLs post-publication). Adding users and making them owners of an existing channel is easy! With your admin permissions, go to the channel/room of your choice, click on the \u2018members\u2019 icon and click on the \u2018Add users\u2019 (not \u2018Invite users\u2019) blue button. Type in the username and hit the blue \u2018Add users\u2019 button again. You will receive a confirmation that the user of choice was added to your room. To view the members in your room, click again on the \u2018members\u2019 icon. Make sure that the dropdown menu is set to \u2018all users\u2019 (the default is online users). To make a user the owner of the group, click on the name of the user and then click on \u2018Set as owner\u2019 button. Editing a channel is easy! A channel owner has the capability to edit and add relevant information to a specific channel. For instance adding a wiki page URL that complements the information exchange of that channel. Just go to the channel of your choice, click on the info icon and then the edit button. This will open a form like view where you can edit information and add wiki URLs. Please do so only in the \u2018Topic\u2019 field. Make sure to hit Save! Discussions # Within a channel/room with many people talking about many things at once, you can choose to engage in a thread (a short exchange on a specific topic) or to start a discussion, which is basically like a room inside another room. Discussions can be dedicated to meetings, and for sharing meeting URLs and notes, so they all stay in one place. They are listed on your left bar, same as the chat channels/rooms and your other private groups and communications. To start a brand new discussion within any channel, click the + sign within the 'type message' bar (type in the name/topic of the discussion, invite the participants and type the actual message). Each discussion has its own URL and can be shared with others, by clicking the 3dot icon top right, and selecting the \u2018Get Link\u2019 option. Basically, any channel/room allows you to start discussions, threads, search for messages, view its members and many more tasks. To explore these tasks, just look to the top right corner for these icons. The only capability that is currently unavailable is file sharing. The feature was disabled to avoid any points of confusion. The Liquid Investigations bundle uses Nextcloud for file sharing purposes (more info in the chapter about Nextcloud). You can search for the archive of messages pertaining to each channel by clicking the search icon (top right corner). Just a caveat, we do prune these channels/rooms now and then, so don\u2019t use the chat rooms as archives. To prune messages, go to the 3dots icon > Prune Messages. Homepage # Back to the homepage, you will see other nifty icons in the top left corner, right next to your username. The directory/world icon will show you a broader view of ALL the publicly available channels. Here you can also view a list with all the users. If you want to engage in one-to-one conversations, please click on the username of your choice and start exchanging messages. If you want to have an extra-security layer for your conversation, go to the chat upper right corner, and click the 3dots button for settings and click on the key symbol > OTR. After the other user is confirming the OTR session, all your messages will be encrypted end-to-end. Be careful, after the session expires, you won\u2019t find any archive of these messages exchanged in the OTR mode. The pencil icon allows you to create a brand new channel/room, discussion or direct message. When you create a channel/room, you can choose whether it's public or private. The Direct Messages option allows you to talk directly to one or multiple persons without having to create a channel for it. Click on the view mode icon to organize your channels, discussions and how you view all this information. Back to our detailed User Guide .","title":"User Guide: Rocket.Chat"},{"location":"User-Guide%3A-Rocket.Chat/#channelsrooms","text":"A deep-dive into channels can be found here: https://docs.rocket.chat/guides/user-guides/channels Basically the homepage will show you all publicly available channels/rooms (on left hand side). If you want to join any of them, just click on the channel/room of your choice and start announcing your presence by typing a message. You can reply to a message or people can reply to your message with another message, with a reaction, by starting a discussion or a thread. Just look for these options at the top right corner of the message. Private channels/rooms are locked. Only invited people can get in. They are not visible to the rest of the participants. They work exactly as the public channels. The various EIC channels/rooms are generally dedicated to topics to investigate, or to logistical exchanges (like maintenance, or sharing URLs post-publication). Adding users and making them owners of an existing channel is easy! With your admin permissions, go to the channel/room of your choice, click on the \u2018members\u2019 icon and click on the \u2018Add users\u2019 (not \u2018Invite users\u2019) blue button. Type in the username and hit the blue \u2018Add users\u2019 button again. You will receive a confirmation that the user of choice was added to your room. To view the members in your room, click again on the \u2018members\u2019 icon. Make sure that the dropdown menu is set to \u2018all users\u2019 (the default is online users). To make a user the owner of the group, click on the name of the user and then click on \u2018Set as owner\u2019 button. Editing a channel is easy! A channel owner has the capability to edit and add relevant information to a specific channel. For instance adding a wiki page URL that complements the information exchange of that channel. Just go to the channel of your choice, click on the info icon and then the edit button. This will open a form like view where you can edit information and add wiki URLs. Please do so only in the \u2018Topic\u2019 field. Make sure to hit Save!","title":"Channels/rooms"},{"location":"User-Guide%3A-Rocket.Chat/#discussions","text":"Within a channel/room with many people talking about many things at once, you can choose to engage in a thread (a short exchange on a specific topic) or to start a discussion, which is basically like a room inside another room. Discussions can be dedicated to meetings, and for sharing meeting URLs and notes, so they all stay in one place. They are listed on your left bar, same as the chat channels/rooms and your other private groups and communications. To start a brand new discussion within any channel, click the + sign within the 'type message' bar (type in the name/topic of the discussion, invite the participants and type the actual message). Each discussion has its own URL and can be shared with others, by clicking the 3dot icon top right, and selecting the \u2018Get Link\u2019 option. Basically, any channel/room allows you to start discussions, threads, search for messages, view its members and many more tasks. To explore these tasks, just look to the top right corner for these icons. The only capability that is currently unavailable is file sharing. The feature was disabled to avoid any points of confusion. The Liquid Investigations bundle uses Nextcloud for file sharing purposes (more info in the chapter about Nextcloud). You can search for the archive of messages pertaining to each channel by clicking the search icon (top right corner). Just a caveat, we do prune these channels/rooms now and then, so don\u2019t use the chat rooms as archives. To prune messages, go to the 3dots icon > Prune Messages.","title":"Discussions"},{"location":"User-Guide%3A-Rocket.Chat/#homepage","text":"Back to the homepage, you will see other nifty icons in the top left corner, right next to your username. The directory/world icon will show you a broader view of ALL the publicly available channels. Here you can also view a list with all the users. If you want to engage in one-to-one conversations, please click on the username of your choice and start exchanging messages. If you want to have an extra-security layer for your conversation, go to the chat upper right corner, and click the 3dots button for settings and click on the key symbol > OTR. After the other user is confirming the OTR session, all your messages will be encrypted end-to-end. Be careful, after the session expires, you won\u2019t find any archive of these messages exchanged in the OTR mode. The pencil icon allows you to create a brand new channel/room, discussion or direct message. When you create a channel/room, you can choose whether it's public or private. The Direct Messages option allows you to talk directly to one or multiple persons without having to create a channel for it. Click on the view mode icon to organize your channels, discussions and how you view all this information. Back to our detailed User Guide .","title":"Homepage"},{"location":"User-Guide%3A-Set-up-Tor-portable-edition/","text":"Browser configuration with caching # Install Tor browser portable edition # Go to https://www.torproject.org/download/, select the operating system of your choice and plug in your removable media Your portable Tor browser will be downloaded on to your USB key or SD card Rename folder to \"LIQUID\", put on desktop Improve your Tor hosting performance by hacking up your Tor browser settings # These are also hard to set-up for normal user, they have to hunt down many browser settings in about:preferences. re-enable browser cache following https://2019.www.torproject.org/projects/torbrowser/design/ section \"disk avoidance\" tried that last time and did not work; maybe something changed? change browser.cache.disk.enable, browser.cache.offline.enable, signon.rememberSignons, browser.formfill.enable and many others force browser to use HTTP/2 \"SPDY and HTTP/2 are currently disabled by setting the Firefox preferences\" https://2019.www.torproject.org/projects/torbrowser/design/ I might have tried this in the past change network.http.spdy.enabled, network.http.spdy.enabled.v2, network.http.spdy.enabled.v3, network.http.spdy.enabled.v3-1, network.http.spdy.enabled.http2, network.http.spdy.enabled.http2draft, network.http.altsvc.enabled, and network.http.altsvc.oe tune HTTP/1 configurations to use more parallel connections -- \"net.http.max-connections-per-server\" http://kb.mozillazine.org/Category:Tweaking_preferences re-enable \"SSL+TLS session resumption\" change security.ssl.disable_session_identifiers advise users to keep separate tor browser install just for accessing liquid (since it's insecure for anything else)* # Back to our detailed User Guide .","title":"Browser configuration with caching"},{"location":"User-Guide%3A-Set-up-Tor-portable-edition/#browser-configuration-with-caching","text":"","title":"Browser configuration with caching"},{"location":"User-Guide%3A-Set-up-Tor-portable-edition/#install-tor-browser-portable-edition","text":"Go to https://www.torproject.org/download/, select the operating system of your choice and plug in your removable media Your portable Tor browser will be downloaded on to your USB key or SD card Rename folder to \"LIQUID\", put on desktop","title":"Install Tor browser portable edition"},{"location":"User-Guide%3A-Set-up-Tor-portable-edition/#improve-your-tor-hosting-performance-by-hacking-up-your-tor-browser-settings","text":"These are also hard to set-up for normal user, they have to hunt down many browser settings in about:preferences. re-enable browser cache following https://2019.www.torproject.org/projects/torbrowser/design/ section \"disk avoidance\" tried that last time and did not work; maybe something changed? change browser.cache.disk.enable, browser.cache.offline.enable, signon.rememberSignons, browser.formfill.enable and many others force browser to use HTTP/2 \"SPDY and HTTP/2 are currently disabled by setting the Firefox preferences\" https://2019.www.torproject.org/projects/torbrowser/design/ I might have tried this in the past change network.http.spdy.enabled, network.http.spdy.enabled.v2, network.http.spdy.enabled.v3, network.http.spdy.enabled.v3-1, network.http.spdy.enabled.http2, network.http.spdy.enabled.http2draft, network.http.altsvc.enabled, and network.http.altsvc.oe tune HTTP/1 configurations to use more parallel connections -- \"net.http.max-connections-per-server\" http://kb.mozillazine.org/Category:Tweaking_preferences re-enable \"SSL+TLS session resumption\" change security.ssl.disable_session_identifiers","title":"Improve your Tor hosting performance by hacking up your Tor browser settings"},{"location":"User-Guide%3A-Set-up-Tor-portable-edition/#advise-users-to-keep-separate-tor-browser-install-just-for-accessing-liquid-since-its-insecure-for-anything-else","text":"Back to our detailed User Guide .","title":"advise users to keep separate tor browser install just for accessing liquid (since it's insecure for anything else)*"},{"location":"User-Guide%3A-Wiki.js/","text":"This is EIC network's collaborative knowledge base, that grows stronger with every EIC project. A detailed guide to Wiki.js is available here: https://docs.requarks.io/. Below some of the key functionalities debunked: Your Wiki.js. Account # Clicking on the 'Account' icon will lead you to a 'Profile' dashboard as well as to the 'Pages' that you've created. Create Page # Wiki.js allows for both folders with nested pages or just standalone pages. On the homepage, please check out the side bar on the left-hand, to view what folders and/or pages have been already created. To create a new standalone page, just click on the 'Page plus' sign at the top right corner. Please note that the 'Settings' wheel only appears if you are an admin. Type the new path name and click select. Paths are also referred to as 'Breadcrumbs'. You will be prompted to select an editor. Wiki.js offers various editors depending on the type of content you want to write. Make sure to choose the 'Visual Editor' for rich text capabilities. Developers will usually go with the 'Markdown' editor. Next, you will land on the 'Page Properties' view where you will create your page title and description as well as assign some tags. Make sure to click the 'Ok' button, at the top right corner. Tags are a great way to categorize your pages and easily find related content. You can search and browse pages by tags, by clicking on the tag icon next to the top search bar. You will return to the visual editor to populate your page with rich content. Make sure to hit the green 'Create' button. To edit, duplicate, move or delete existing pages, click on the 'Page Actions' sign. When deleting a page, you will be asked again, to avoid errors. To create a page within an existing folder (or an existing namespace), choose an existing path and just add the page name to the existing path. DO NOT put a trailing slash, when adding to the existing path. Make sure to click the 'Ok' button at the top right corner. You cannot create pages utilizing the same path name. An error notification will pop up to let you know to change the name. Comments # Comments modules add discussion capabilities to your pages. Type in your comment below the page of your choice and click on the 'Post Comment' button. Sharing & Printing your pages # These capabilities are available next to each individual page on the right side menu. Clicking on the 'Print' icon will download a PDF format of the respective page, on your computer. Groups # A user can be part of one or more groups. A group defines what users can see and what they can do. Groups are created and managed by admins. Back to our detailed User Guide .","title":"User Guide: Wiki.js"},{"location":"User-Guide%3A-Wiki.js/#your-wikijs-account","text":"Clicking on the 'Account' icon will lead you to a 'Profile' dashboard as well as to the 'Pages' that you've created.","title":"Your Wiki.js. Account"},{"location":"User-Guide%3A-Wiki.js/#create-page","text":"Wiki.js allows for both folders with nested pages or just standalone pages. On the homepage, please check out the side bar on the left-hand, to view what folders and/or pages have been already created. To create a new standalone page, just click on the 'Page plus' sign at the top right corner. Please note that the 'Settings' wheel only appears if you are an admin. Type the new path name and click select. Paths are also referred to as 'Breadcrumbs'. You will be prompted to select an editor. Wiki.js offers various editors depending on the type of content you want to write. Make sure to choose the 'Visual Editor' for rich text capabilities. Developers will usually go with the 'Markdown' editor. Next, you will land on the 'Page Properties' view where you will create your page title and description as well as assign some tags. Make sure to click the 'Ok' button, at the top right corner. Tags are a great way to categorize your pages and easily find related content. You can search and browse pages by tags, by clicking on the tag icon next to the top search bar. You will return to the visual editor to populate your page with rich content. Make sure to hit the green 'Create' button. To edit, duplicate, move or delete existing pages, click on the 'Page Actions' sign. When deleting a page, you will be asked again, to avoid errors. To create a page within an existing folder (or an existing namespace), choose an existing path and just add the page name to the existing path. DO NOT put a trailing slash, when adding to the existing path. Make sure to click the 'Ok' button at the top right corner. You cannot create pages utilizing the same path name. An error notification will pop up to let you know to change the name.","title":"Create Page"},{"location":"User-Guide%3A-Wiki.js/#comments","text":"Comments modules add discussion capabilities to your pages. Type in your comment below the page of your choice and click on the 'Post Comment' button.","title":"Comments"},{"location":"User-Guide%3A-Wiki.js/#sharing-printing-your-pages","text":"These capabilities are available next to each individual page on the right side menu. Clicking on the 'Print' icon will download a PDF format of the respective page, on your computer.","title":"Sharing &amp; Printing your pages"},{"location":"User-Guide%3A-Wiki.js/#groups","text":"A user can be part of one or more groups. A group defines what users can see and what they can do. Groups are created and managed by admins. Back to our detailed User Guide .","title":"Groups"},{"location":"_Footer/","text":"Report incomplete documentation by opening a new Issue in this repository .","title":" Footer"},{"location":"_Sidebar/","text":"User Guide Technical Overview Installation Maintenance Contributing","title":" Sidebar"}]}